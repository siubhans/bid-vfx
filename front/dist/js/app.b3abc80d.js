(function(){"use strict";var e={8453:function(e,t,i){var o=i(9963),s=i(6252);const n={id:"app"};function r(e,t,i,o,r,l){const a=(0,s.up)("logOut"),d=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",n,[r.currentUser.id>0?((0,s.wg)(),(0,s.j4)(a,{key:0})):(0,s.kq)("",!0),(0,s.Wm)(d)])}var l=i(4862),a=i(1120),d=i.n(a),c=i(6727),u=i.n(c);const p=2.83464566929,g=297*p,h=419*p,m=297*p,w=419*p,f=[0*p,0*p];async function b(e){const t=await _(e);k(t)}async function _(e){const t={scale:2},i=await d()(e,t),o=i.toDataURL(),s={dataUrl:o,pageSize:{width:g,height:h},pageOrientation:"PORTRAIT",contentSize:{width:m,height:w},pageMargins:f};return s}function k(e){const{dataUrl:t,contentSize:i,pageMargins:o}=e,s=e.pageSize,n=e.pageOrientation,r={pageSize:s,pageOrientation:n,content:{image:t,...i},pageMargins:o};u().createPdf(r).download()}const y={class:"logOutButton"};function v(e,t,i,o,n,r){return(0,s.wg)(),(0,s.iD)("div",y,[(0,s._)("button",{class:"btn button_logout mt-2",onClick:t[0]||(t[0]=e=>r.logout())},"Logout")])}var S={methods:{logout(){this.secured.delete("/signin"),delete localStorage.email,delete localStorage.signedIn,delete localStorage.message,this.$router.replace("/")}}},C=i(3744);const D=(0,C.Z)(S,[["render",v],["__scopeId","data-v-2997a00c"]]);var U=D,I={data(){return{currentUser:{}}},components:{logOut:U},created(){this.getCurrentUser()},methods:{getCurrentUser(){this.plain.get("/current").then((e=>{this.currentUser=e.data})).catch((()=>{this.currentUser={}}))},download(){b(this.$refs.print.$el)}},setup(){return{SvgIcon:l.Z}},computed:{loggedIn(){return this.currentUser}}};const $=(0,C.Z)(I,[["render",r]]);var V=$,x=i(2201),F=i(3577),B=i.p+"img/star.f71d45d3.png";const M=e=>((0,s.dD)("data-v-74caa25b"),e=e(),(0,s.Cn)(),e),L={class:"container flexContainer"},z={class:"container flex-2"},N={key:0,class:"error"},j={class:"input-icons mb-4"},O={class:"icon"},H={class:"input-icons mb-5"},P={class:"icon"},q=M((()=>(0,s._)("button",{type:"submit",class:"btn button_login mb-3"},"Sign in",-1))),T=M((()=>(0,s._)("img",{class:"imgBG",src:B,alt:""},null,-1)));function K(e,t,i,n,r,l){const a=(0,s.up)("superiorHeading"),d=(0,s.up)("font-awesome-icon"),c=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",L,[(0,s.Wm)(a,{class:"flex-1",title:"Bid VFX"}),(0,s._)("div",z,[(0,s._)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)(((...e)=>l.signin&&l.signin(...e)),["prevent"]))},[r.error?((0,s.wg)(),(0,s.iD)("div",N,(0,F.zw)(r.error),1)):(0,s.kq)("",!0),(0,s._)("div",j,[(0,s._)("i",O,[(0,s.Wm)(d,{icon:"user"})]),(0,s.wy)((0,s._)("input",{type:"email",class:"form-control input-field input_user","onUpdate:modelValue":t[0]||(t[0]=e=>r.email=e),id:"email",placeholder:"Email",autocomplete:"off"},null,512),[[o.nr,r.email]])]),(0,s._)("div",H,[(0,s._)("i",P,[(0,s.Wm)(d,{icon:"lock"})]),(0,s.wy)((0,s._)("input",{type:"password",class:"form-control input-field input_user","onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),id:"password",placeholder:"Password",autocomplete:"off"},null,512),[[o.nr,r.password]])]),q],32),(0,s.Wm)(c,{class:"Form_link",to:"/register"},{default:(0,s.w5)((()=>[(0,s.Uk)("Create account")])),_:1})])]),T])}const E={class:"heading_superior"};function Z(e,t,i,o,n,r){return(0,s.wg)(),(0,s.iD)("span",null,[(0,s._)("h1",E,(0,F.zw)(i.title.toUpperCase()),1)])}var Y={props:{title:String}};const R=(0,C.Z)(Y,[["render",Z],["__scopeId","data-v-4e98cd46"]]);var W=R,X={name:"signIn",components:{superiorHeading:W},data(){return{email:"",password:"",error:"",id:"",currentUser:[]}},created(){this.checkSignedIn(),this.getCurrentUser()},updated(){this.checkSignedIn()},methods:{signin(){this.plain.post("/signin",{email:this.email,password:this.password}).then((e=>this.signinSuccessful(e))).catch((e=>this.signinFailed(e)))},signinSuccessful(e){e.data.csrf?(localStorage.csrf=e.data.csrf,localStorage.email=this.email,localStorage.signedIn=1,this.error="",this.$router.replace("/bidsView")):this.signinFailed(e)},signinFailed(e){this.error=e.response&&e.response.data&&e.response.data.error||"",delete localStorage.csrf,delete localStorage.email,delete localStorage.signedIn},checkSignedIn(){localStorage.csrf&&this.$router.replace("/bidsView")},getCurrentUser(){this.plain.get("/current").then((e=>{this.currentUser=e.data})).catch((e=>console.log(e,"Cannot get user")))}},computed:{loggedIn(){return this.currentUser}}};const A=(0,C.Z)(X,[["render",K],["__scopeId","data-v-74caa25b"]]);var G=A;const J=e=>((0,s.dD)("data-v-3f94a807"),e=e(),(0,s.Cn)(),e),Q={class:"container flexContainer"},ee={class:"container flex-2"},te={key:0},ie={class:"input-icons mb-4"},oe={class:"icon"},se={class:"input-icons mb-4"},ne={class:"icon"},re={class:"input-icons mb-4"},le={class:"icon"},ae={class:"input-icons mb-5"},de={class:"icon"},ce={key:0,class:"error"},ue=J((()=>(0,s._)("button",{type:"submit",class:"btn button_login mb-3"},"Register",-1))),pe=J((()=>(0,s._)("img",{class:"imgBG",src:B,alt:""},null,-1)));function ge(e,t,i,n,r,l){const a=(0,s.up)("superiorHeading"),d=(0,s.up)("font-awesome-icon"),c=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",Q,[(0,s.Wm)(a,{class:"flex-1",title:"Bid VFX"}),(0,s._)("div",ee,[(0,s._)("form",{onSubmit:t[4]||(t[4]=(0,o.iM)(((...e)=>l.register&&l.register(...e)),["prevent"]))},[r.error?((0,s.wg)(),(0,s.iD)("div",te,(0,F.zw)(r.error),1)):(0,s.kq)("",!0),(0,s._)("div",ie,[(0,s._)("i",oe,[(0,s.Wm)(d,{icon:"user"})]),(0,s.wy)((0,s._)("input",{type:"email",class:"form-control input-field input_user","onUpdate:modelValue":t[0]||(t[0]=e=>r.email=e),id:"email",placeholder:"Email",autocomplete:"off"},null,512),[[o.nr,r.email]]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.v$.email.$errors,(e=>((0,s.wg)(),(0,s.iD)("p",{key:e.$uid,class:"error"},[(0,s._)("strong",null,(0,F.zw)(e.$message),1)])))),128))]),(0,s._)("div",se,[(0,s._)("i",ne,[(0,s.Wm)(d,{icon:"building"})]),(0,s.wy)((0,s._)("input",{type:"text",class:"form-control input-field input_user","onUpdate:modelValue":t[1]||(t[1]=e=>r.studio=e),id:"studio",placeholder:"Your Studio Name",autocomplete:"off"},null,512),[[o.nr,r.studio]]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.v$.studio.$errors,(e=>((0,s.wg)(),(0,s.iD)("p",{key:e.$uid,class:"error"},[(0,s._)("strong",null,(0,F.zw)(e.$message),1)])))),128))]),(0,s._)("div",re,[(0,s._)("i",le,[(0,s.Wm)(d,{icon:"unlock"})]),(0,s.wy)((0,s._)("input",{type:"password",class:"form-control input-field input_user","onUpdate:modelValue":t[2]||(t[2]=e=>r.password=e),id:"password",placeholder:"Password",autocomplete:"off"},null,512),[[o.nr,r.password]]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.v$.password.$errors,(e=>((0,s.wg)(),(0,s.iD)("p",{key:e.$uid,class:"error"},[(0,s._)("strong",null,(0,F.zw)(e.$message),1)])))),128))]),(0,s._)("div",ae,[(0,s._)("i",de,[(0,s.Wm)(d,{icon:"lock"})]),(0,s.wy)((0,s._)("input",{type:"password",class:"form-control input-field input_user","onUpdate:modelValue":t[3]||(t[3]=e=>r.confirmPassword=e),id:"confirmPassword",placeholder:"Confirm Password",autocomplete:"off"},null,512),[[o.nr,r.confirmPassword]]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.v$.confirmPassword.$errors,(e=>((0,s.wg)(),(0,s.iD)("p",{key:e.$uid,class:"error"},[(0,s._)("strong",null,(0,F.zw)(e.$message),1)])))),128)),r.errorP?((0,s.wg)(),(0,s.iD)("p",ce,[(0,s._)("strong",null,(0,F.zw)(r.errorP),1)])):(0,s.kq)("",!0)]),ue],32),(0,s.Wm)(c,{class:"Form_link",to:"/"},{default:(0,s.w5)((()=>[(0,s.Uk)("Signin")])),_:1})]),pe])}var he=i(4028),me=i(2587),we={name:"registerUser",data(){return{v$:(0,he.ZP)(),email:"",password:"",confirmPassword:"",studio:"",error:"",errorP:""}},components:{superiorHeading:W},created(){this.checkSignedIn()},updated(){this.checkSignedIn()},validations(){return{email:{required:me.C1,email:me.Do},password:{required:me.C1,minLength:(0,me.Ei)(8)},confirmPassword:{required:me.C1,sameAsPassword:(0,me.sH)(this.password)},studio:{required:me.C1,minLength:(0,me.Ei)(4),maxLength:(0,me.BS)(40)}}},methods:{register(){this.v$.$validate(),this.v$.$error?console.log("Form invalid"):this.plain.post("/signup",{email:this.email,password:this.password,confirmPassword:this.confirmPassword,studio:this.studio}).then((e=>this.registerSuccessful(e))).catch((e=>this.signinFailed(e)))},registerSuccessful(e){e.data.csrf?(localStorage.csrf=e.data.csrf,localStorage.message="You have successfully registered",localStorage.email=this.email,localStorage.signedIn=1,this.error="",this.$router.replace("/studioView")):this.signinFailed(e)},signinFailed(e){this.error=e.response&&e.response.data&&e.response.data.error||"",delete localStorage.csrf,delete localStorage.email,delete localStorage.signedIn},checkSignedIn(){localStorage.csrf&&this.$router.replace("/bidsView")}}};const fe=(0,C.Z)(we,[["render",ge],["__scopeId","data-v-3f94a807"]]);var be=fe;const _e=e=>((0,s.dD)("data-v-cb4d4f32"),e=e(),(0,s.Cn)(),e),ke={class:"outterContainer"},ye=_e((()=>(0,s._)("option",{value:"",disabled:"",selected:""},"Select a client",-1))),ve=["value"],Se=_e((()=>(0,s._)("button",{type:"submit",class:"btn btn-filter FilterForm_item-2"}," Filter by Client ",-1))),Ce=_e((()=>(0,s._)("th",{scope:"col"},"#",-1))),De=_e((()=>(0,s._)("th",{scope:"col"},"Project",-1))),Ue=_e((()=>(0,s._)("th",{scope:"col"},"fps",-1))),Ie=_e((()=>(0,s._)("th",{scope:"col"},"Resolution",-1))),$e=_e((()=>(0,s._)("th",{scope:"col"},"Day Rate",-1))),Ve=_e((()=>(0,s._)("th",{scope:"col"},null,-1))),xe=_e((()=>(0,s._)("th",{scope:"col"},null,-1))),Fe={scope:"col"},Be={scope:"row"},Me=["onUpdate:modelValue"],Le={key:1},ze=["onUpdate:modelValue"],Ne={key:1},je=["onUpdate:modelValue"],Oe={key:1},He=["onUpdate:modelValue"],Pe={key:1},qe=["onClick"],Te=["onClick"],Ke=["onClick"],Ee=["onClick"];function Ze(e,t,i,n,r,l){const a=(0,s.up)("sideBar"),d=(0,s.up)("mainHeading"),c=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[l.loggedIn?((0,s.wg)(),(0,s.j4)(a,{key:0})):(0,s.kq)("",!0),(0,s.Wm)(d,{class:"outterContainer",title:"Bids"}),(0,s._)("div",ke,[r.listIsFiltered?((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:t[2]||(t[2]=(...e)=>l.printList&&l.printList(...e)),class:"btn btn-filter mb-4"}," Filter Off ")):((0,s.wg)(),(0,s.iD)("form",{key:0,class:"FilterForm_container mb-4",onSubmit:t[1]||(t[1]=(0,o.iM)((e=>l.filterBid()),["prevent"]))},[(0,s.wy)((0,s._)("select",{class:"form-select FilterForm_item-1","aria-label":"Default select example","onUpdate:modelValue":t[0]||(t[0]=e=>r.selectedClient=e)},[ye,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.clients,(e=>((0,s.wg)(),(0,s.iD)("option",{key:e.name,value:e.id},(0,F.zw)(e.name)+" : "+(0,F.zw)(e.studio),9,ve)))),128))],512),[[o.bM,r.selectedClient]]),Se],32))]),(0,s._)("table",{class:(0,F.C_)(["table table-hover table-striped",r.darkMode?"table-dark":"table-light"])},[(0,s._)("thead",null,[(0,s._)("tr",null,[Ce,De,Ue,Ie,$e,Ve,xe,(0,s._)("th",Fe,[(0,s._)("button",{class:(0,F.C_)(["btn",r.darkMode?"btn-outline-light":"btn-outline-dark"]),onClick:t[3]||(t[3]=(...e)=>l.darkModeToggle&&l.darkModeToggle(...e))}," Switch Dark Mode "+(0,F.zw)(r.onOff),3)])])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.bids,((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("th",Be,(0,F.zw)(t+1),1),(0,s._)("td",null,[r.editing===t?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:0,type:"text","onUpdate:modelValue":e=>r.bids[t].project=e},null,8,Me)),[[o.nr,r.bids[t].project]]):((0,s.wg)(),(0,s.iD)("span",Le,[(0,s._)("b",null,(0,F.zw)(e.project),1)]))]),(0,s._)("td",null,[r.editing===t?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:0,type:"text","onUpdate:modelValue":e=>r.bids[t].fps=e},null,8,ze)),[[o.nr,r.bids[t].fps]]):((0,s.wg)(),(0,s.iD)("span",Ne,(0,F.zw)(e.fps),1))]),(0,s._)("td",null,[r.editing===t?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:0,type:"text","onUpdate:modelValue":e=>r.bids[t].resolution=e},null,8,je)),[[o.nr,r.bids[t].resolution]]):((0,s.wg)(),(0,s.iD)("span",Oe,(0,F.zw)(e.resolution),1))]),(0,s._)("td",null,[r.editing===t?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:0,type:"number","onUpdate:modelValue":e=>r.bids[t].cost=e},null,8,He)),[[o.nr,r.bids[t].cost]]):((0,s.wg)(),(0,s.iD)("span",Pe,(0,F.zw)(l.formatCurrency(e.cost)),1))]),(0,s._)("td",null,[(0,s._)("button",{class:"btn btn-warning",onClick:t=>l.deleteBid(e.id)}," Delete ",8,qe)]),(0,s._)("td",null,[r.editing===t?((0,s.wg)(),(0,s.iD)("button",{key:0,class:(0,F.C_)(["btn",r.darkMode?"btn-light":"btn-dark"]),onClick:i=>l.updateBid(e.id,t)}," Update ",10,Te)):((0,s.wg)(),(0,s.iD)("button",{key:1,class:(0,F.C_)(["btn",r.darkMode?"btn-light":"btn-dark"]),onClick:e=>l.editBid(t)}," Edit ",10,Ke))]),(0,s._)("td",null,[(0,s._)("button",{class:"btn btn-success",onClick:t=>l.buildBid(e.id)}," Build Bid ",8,Ee)])])))),128))])],2),r.bids.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(c,{key:1,to:"/newBid"},{default:(0,s.w5)((()=>[(0,s.Uk)(" You have no bids - click here to add one ")])),_:1}))])}i(7658);function Ye(e,t,i,o,n,r){const l=(0,s.up)("VueSidebarMenuAkahon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(l,{menuTitle:"Bid VFX",isSearch:!1,profileImg:"../favicon.ico",profileName:r.yourStudio,profileRole:"",isExitButton:!1,menuItems:n.sideMenuItems,menuIcon:"bx-child",bgColor:"#304360"},null,8,["profileName","menuItems"])])}var Re=i(5645),We={components:{VueSidebarMenuAkahon:Re.Z},data(){return{sideMenuItems:[{link:"/newBid",name:"new bid",tooltip:"new bid",icon:"bx-plus"},{link:"/bidsView",name:"bids",tooltip:"bids",icon:"bx-grid-alt"},{link:"/clientsView",name:"clients",tooltip:"clients",icon:"bx-group"},{link:"/studioView",name:"studio",tooltip:"studio",icon:"bx-home-circle"}]}},methods:{logout(){this.secured.delete("/signin"),delete localStorage.email,delete localStorage.signedIn,delete localStorage.message,this.$router.replace("/")}},computed:{loggedIn(){return 1==localStorage.signedIn},yourStudio(){return localStorage.email?localStorage.email:""}}};const Xe=(0,C.Z)(We,[["render",Ye]]);var Ae=Xe;const Ge={class:"heading_main"};function Je(e,t,i,o,n,r){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("h3",Ge,(0,F.zw)(i.title.toUpperCase()),1)])}var Qe={props:{title:String}};const et=(0,C.Z)(Qe,[["render",Je],["__scopeId","data-v-05e92610"]]);var tt=et,it={components:{mainHeading:tt,sideBar:Ae},data(){return{bids:[],darkMode:!1,onOff:"on",editing:!1,currentUser:[],shots:[],clients:{},selectedClient:"",listIsFiltered:!1}},created(){this.getList(),this.getClientList(),this.printList()},methods:{deleteBid(e){this.secured.delete(`/bids/${e}`).then((()=>{this.printList()})).catch((e=>console.log(e,"Cannot delete record")))},editBid(e){this.editing=e},updateBid(e,t){this.secured.patch(`/bids/${e}`,{bid:{project:this.bids[t].project,fps:this.bids[t].fps,resolution:this.bids[t].resolution,cost:this.bids[t].cost}}).then((()=>{this.editing=!1,this.printList(),this.getShots(e,this.bids[t].cost)})).catch((e=>console.log(e,"Cannot update record")))},getList(){this.plain.get("/bids").then((e=>{console.log(e.data)}))},printList(){this.plain.get("/bids").then((e=>{this.bids=e.data,this.listIsFiltered=!1}))},darkModeToggle(){this.darkMode=!this.darkMode,this.onOff=this.darkMode?"off":"on"},buildBid(e){localStorage.currentBid=e,this.$router.replace("/buildBid")},getCurrentUser(){this.plain.get("/current").then((e=>{this.currentUser=e.data})).catch((e=>console.log(e,"Cannot get user")))},getShots(e,t){this.plain.get("/shots/",{params:{bid_id:e}}).then((e=>{this.shots=e.data,this.updateCosts(this.shots,t)}))},updateCosts(e,t){const i=Array.from(e);i.forEach((e=>{this.secured.patch(`shots/${e.id}`,{shot:{total:t*e.days}}).then((()=>{console.log("updated shot",e.id)})).catch((e=>console.log(e,"Cannot update shot")))}))},formatCurrency(e){let t=(e/1).toFixed(2);return t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),"€"+t},getClientList(){this.secured.get("/clients").then((e=>{this.clients=e.data,console.log(this.clients)}))},filterBid(){if(""!==this.selectedClient){const e=[];Object.keys(this.bids).forEach((t=>{this.bids[t].client_id===this.selectedClient&&e.push(this.bids[t])})),this.bids=e,this.selectedClient="",this.listIsFiltered=!0}}},computed:{loggedIn(){return this.currentUser}}};const ot=(0,C.Z)(it,[["render",Ze],["__scopeId","data-v-cb4d4f32"]]);var st=ot;function nt(e,t,i,o,n,r){const l=(0,s.up)("sideBar"),a=(0,s.up)("mainHeading");return(0,s.wg)(),(0,s.iD)("div",null,[r.loggedIn?((0,s.wg)(),(0,s.j4)(l,{key:0})):(0,s.kq)("",!0),(0,s.Wm)(a,{title:"Users"}),(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.users,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e.email},(0,F.zw)(e.email)+" "+(0,F.zw)(e.created_at),1)))),128))])])}var rt={components:{sideBar:Ae,mainHeading:tt},data(){return{users:[]}},created(){this.getList(),this.printList()},methods:{getList(){this.plain.get("/").then((e=>{console.log(e.data)}))},printList(){this.plain.get("/").then((e=>{this.users=e.data}))}},computed:{loggedIn(){return 1==localStorage.signedIn}}};const lt=(0,C.Z)(rt,[["render",nt]]);var at=lt;const dt=e=>((0,s.dD)("data-v-2bf5c694"),e=e(),(0,s.Cn)(),e),ct={class:"outterContainer"},ut=dt((()=>(0,s._)("div",{class:"outterContainer"},[(0,s._)("a",{class:"btn btn-filter mb-4",href:"/newClient"},"Add new client")],-1))),pt={class:"gridContainer"},gt={class:"card"},ht={class:"card-body"},mt=["onUpdate:modelValue"],wt={key:1,class:"card-title mb-2"},ft=["onUpdate:modelValue"],bt={key:3,class:"card-subtitle mb-2"},_t=["onUpdate:modelValue"],kt={key:5,class:"card-subtitle mb-2"},yt=["onClick"],vt=["onClick"],St=["onClick"];function Ct(e,t,i,n,r,l){const a=(0,s.up)("sideBar"),d=(0,s.up)("mainHeading");return(0,s.wg)(),(0,s.iD)("div",null,[l.loggedIn?((0,s.wg)(),(0,s.j4)(a,{key:0})):(0,s.kq)("",!0),(0,s._)("div",ct,[(0,s.Wm)(d,{title:"Clients"})]),ut,(0,s._)("div",pt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.clients,((e,t)=>((0,s.wg)(),(0,s.iD)("ul",{key:t},[(0,s._)("div",gt,[(0,s._)("div",ht,[r.editing===t?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:0,type:"text","onUpdate:modelValue":e=>r.clients[t].studio=e},null,8,mt)),[[o.nr,r.clients[t].studio]]):((0,s.wg)(),(0,s.iD)("h4",wt,(0,F.zw)(e.studio),1)),r.editing===t?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:2,type:"text","onUpdate:modelValue":e=>r.clients[t].name=e},null,8,ft)),[[o.nr,r.clients[t].name]]):((0,s.wg)(),(0,s.iD)("h6",bt,(0,F.zw)(e.name),1)),r.editing===t?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:4,type:"text","onUpdate:modelValue":e=>r.clients[t].producer=e},null,8,_t)),[[o.nr,r.clients[t].producer]]):((0,s.wg)(),(0,s.iD)("h6",kt,(0,F.zw)(e.producer),1)),(0,s._)("div",null,[(0,s._)("button",{class:"btn btn-card",onClick:t=>l.deleteClient(e.id)}," Delete ",8,yt),r.editing===t?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn btn-card",onClick:i=>l.updateClient(e.id,t)}," Update ",8,vt)):((0,s.wg)(),(0,s.iD)("button",{key:1,class:"btn btn-card",onClick:e=>l.editClient(t)}," Edit ",8,St))])])])])))),128))])])}var Dt={components:{mainHeading:tt,sideBar:Ae},data(){return{clients:[],editing:!1}},created(){this.printList()},methods:{deleteClient(e){this.secured.delete(`/clients/${e}`).then(this.printList()).catch((e=>console.log(e,"Cannot delete record")))},editClient(e){this.editing=e},updateClient(e,t){this.secured.patch(`/clients/${e}`,{client:{name:this.clients[t].name,studio:this.clients[t].studio,producer:this.clients[t].producer}}).then((()=>{this.editing=!1,this.printList()})).catch((e=>console.log(e,"Cannot update record")))},printList(){this.secured.get("/clients").then((e=>{this.clients=e.data}))}},computed:{loggedIn(){return 1==localStorage.signedIn}}};const Ut=(0,C.Z)(Dt,[["render",Ct],["__scopeId","data-v-2bf5c694"]]);var It=Ut;const $t=e=>((0,s.dD)("data-v-303a2626"),e=e(),(0,s.Cn)(),e),Vt={class:"outterContainer"},xt={class:"innerContainer"},Ft={type:"submit",class:"btn btn-success"},Bt=$t((()=>(0,s._)("br",null,null,-1))),Mt=$t((()=>(0,s._)("button",{type:"submit",class:"btn btn-success"}," Confirm Studio Details ",-1))),Lt={class:"input-group input-group-sm mb-3"},zt=["src"],Nt={key:3},jt=$t((()=>(0,s._)("br",null,null,-1))),Ot=$t((()=>(0,s._)("button",{type:"submit",class:"btn btn-light"},"Update",-1))),Ht={key:4},Pt=$t((()=>(0,s._)("br",null,null,-1)));function qt(e,t,i,n,r,l){const a=(0,s.up)("sideBar"),d=(0,s.up)("mainHeading");return(0,s.wg)(),(0,s.iD)("div",Vt,[(0,s._)("div",xt,[l.loggedIn?((0,s.wg)(),(0,s.j4)(a,{key:0})):(0,s.kq)("",!0),r.registeredStudio?((0,s.wg)(),(0,s.j4)(d,{key:1,title:r.currentUser.studio},null,8,["title"])):(0,s.kq)("",!0),r.registeredStudio&&!r.firstTimeStudio?((0,s.wg)(),(0,s.iD)("form",{key:2,onSubmit:t[1]||(t[1]=(0,o.iM)(((...e)=>l.confirmStudio&&l.confirmStudio(...e)),["prevent"]))},[(0,s.wy)((0,s._)("input",{type:"hidden","onUpdate:modelValue":t[0]||(t[0]=e=>r.registeredStudio=e)},null,512),[[o.nr,r.registeredStudio]]),(0,s._)("button",Ft,[(0,s.Uk)(" Click here to confirm "),(0,s._)("b",null,(0,F.zw)(r.registeredStudio),1),(0,s.Uk)(" as your studio name ")])],32)):(0,s.kq)("",!0),Bt,r.registeredStudio&&!r.firstTimeStudio?((0,s.wg)(),(0,s.iD)("button",{key:3,onClick:t[2]||(t[2]=(...e)=>l.createStudioDetailsShow&&l.createStudioDetailsShow(...e)),class:"btn btn-light"}," Change Studio Name ")):(0,s.kq)("",!0),r.firstTimeStudio?((0,s.wg)(),(0,s.iD)("form",{key:4,onSubmit:t[4]||(t[4]=(0,o.iM)(((...e)=>l.createStudioDetails&&l.createStudioDetails(...e)),["prevent"]))},[(0,s.wy)((0,s._)("input",{class:"input-group mb-3",type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>r.registeredStudio=e)},null,512),[[o.nr,r.registeredStudio]]),Mt],32)):(0,s.kq)("",!0),(0,s._)("form",{enctype:"multipart/form-data",onSubmit:t[9]||(t[9]=(0,o.iM)(((...e)=>l.sendFile&&l.sendFile(...e)),["prevent"]))},[r.editing?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:0,class:"input-group mb-3",type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>r.studio.name=e)},null,512)),[[o.nr,r.studio.name]]):((0,s.wg)(),(0,s.j4)(d,{key:1,title:r.studio.name},null,8,["title"])),(0,s._)("div",Lt,[r.editing?((0,s.wg)(),(0,s.iD)("input",{key:0,class:"form-control",type:"file",ref:"file",name:"studio[file]",onChange:t[6]||(t[6]=(...e)=>l.selectFile&&l.selectFile(...e))},null,544)):(0,s.kq)("",!0)]),r.studio.logo?((0,s.wg)(),(0,s.iD)("img",{key:2,class:"image",src:r.studio.logo,alt:"image for studio"},null,8,zt)):(0,s.kq)("",!0),r.editing?((0,s.wg)(),(0,s.iD)("div",Nt,[jt,Ot,(0,s._)("button",{class:"btn btn-light",onClick:t[7]||(t[7]=e=>r.editing=!1)},"Cancel")])):((0,s.wg)(),(0,s.iD)("div",Ht,[Pt,r.registeredStudio?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn btn-light",onClick:t[8]||(t[8]=e=>l.editStudio())}," Update Logo "))]))],32)])])}var Tt={components:{mainHeading:tt,sideBar:Ae},data(){return{studio:[],editing:!1,editingStudio:!1,registeredStudio:"",currentUser:{},firstTimeStudio:!1,file:[]}},created(){this.printList(),this.getCurrentUser()},methods:{editStudio(){this.editing=!0},printList(){this.secured.get("/studios").then((e=>{e.data[0]?(this.studio=e.data[0],console.log(e.data[0])):this.studio=[]})).catch((e=>console.log(e,"Cannot get studio")))},getCurrentUser(){this.plain.get("/current").then((e=>{this.currentUser=e.data,console.log(e.data),this.checkForStudio()})).catch((e=>console.log(e,"Cannot get user")))},checkForStudio(){this.registeredStudio=this.currentUser.studio},confirmStudio(){this.secured.post("/studios",{studio:{name:this.currentUser.studio}}).then((()=>{this.deleteStudioFromUser(),this.registeredStudio=null,this.printList()})).catch((e=>console.log(e,"Cannot update record")))},createStudioDetailsShow(){this.firstTimeStudio=!0},createStudioDetails(){this.secured.post("/studios",{studio:{name:this.registeredStudio}}).then((()=>{console.log("made studio"),this.deleteStudioFromUser(),this.registeredStudio=null,this.firstTimeStudio=!1,this.$router.reload()})).catch((e=>console.log(e,"Cannot update studio")))},deleteStudioFromUser(){this.secured.patch(`/signinUser/${this.currentUser.id}`,{user:{studio:null}}).then((()=>{console.log("deleted studio"),this.printList()})).catch((e=>console.log(e,"Cannot delete")))},selectFile(){this.file=this.$refs.file.files[0]},sendFile(){let e=new FormData;e.append("studio[file]",this.file),this.secured.put(`/studios/${this.studio.id}`,e).then((()=>console.log(...e.entries()))).then((()=>{this.editing=!1,this.printList()})).catch((e=>console.log(e,"Cannot process studio update")))}},computed:{loggedIn(){return 1==localStorage.signedIn}}};const Kt=(0,C.Z)(Tt,[["render",qt],["__scopeId","data-v-303a2626"]]);var Et=Kt;const Zt={class:"outterContainer"},Yt={class:"innerContainer"},Rt={key:0},Wt=(0,s._)("div",{class:"mb-3"},null,-1),Xt={class:"mb-3"},At=(0,s._)("label",{for:"name",class:"form-label"},"Name",-1),Gt={class:"mb-3"},Jt=(0,s._)("label",{for:"producer",class:"form-label"},"Producer",-1),Qt={class:"mb-3"},ei=(0,s._)("label",{for:"studio",class:"form-label"},"Studio",-1),ti=(0,s._)("button",{type:"submit",class:"btn btn-secondary"},"Create",-1);function ii(e,t,i,n,r,l){const a=(0,s.up)("sideBar"),d=(0,s.up)("mainHeading");return(0,s.wg)(),(0,s.iD)("div",Zt,[l.loggedIn?((0,s.wg)(),(0,s.j4)(a,{key:0})):(0,s.kq)("",!0),(0,s._)("div",Yt,[(0,s.Wm)(d,{title:"New Client"}),(0,s._)("form",{onSubmit:t[3]||(t[3]=(0,o.iM)(((...e)=>l.addNewClient&&l.addNewClient(...e)),["prevent"]))},[e.error?((0,s.wg)(),(0,s.iD)("div",Rt,(0,F.zw)(e.error),1)):(0,s.kq)("",!0),Wt,(0,s._)("div",Xt,[At,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>r.name=e),id:"name",placeholder:"Client's Name"},null,512),[[o.nr,r.name]]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.v$.name.$errors,(e=>((0,s.wg)(),(0,s.iD)("p",{key:e.$uid,class:"error"},[(0,s._)("strong",null,(0,F.zw)(e.$message),1)])))),128))]),(0,s._)("div",Gt,[Jt,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>r.producer=e),id:"producer",placeholder:"Producer's Name"},null,512),[[o.nr,r.producer]]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.v$.producer.$errors,(e=>((0,s.wg)(),(0,s.iD)("p",{key:e.$uid,class:"error"},[(0,s._)("strong",null,(0,F.zw)(e.$message),1)])))),128))]),(0,s._)("div",Qt,[ei,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>r.studio=e),id:"studio",placeholder:"Studio Name"},null,512),[[o.nr,r.studio]]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.v$.studio.$errors,(e=>((0,s.wg)(),(0,s.iD)("p",{key:e.$uid,class:"error"},[(0,s._)("strong",null,(0,F.zw)(e.$message),1)])))),128))]),ti],32)])])}var oi={components:{mainHeading:tt,sideBar:Ae},data(){return{v$:(0,he.ZP)(),name:"",producer:"",studio:""}},created(){},validations(){return{name:{required:me.C1,minLength:(0,me.Ei)(4),maxLength:(0,me.BS)(50)},producer:{minLength:(0,me.Ei)(4),maxLength:(0,me.BS)(50)},studio:{required:me.C1,minLength:(0,me.Ei)(4),maxLength:(0,me.BS)(50)}}},methods:{addNewClient(){this.v$.$validate(),this.v$.$error?console.log("Form cannot be validated"):this.secured.post("/clients",{client:{name:this.name,studio:this.studio,producer:this.producer}}).then((e=>{console.log(e.data),this.$router.replace("/clientsView")})).catch((e=>console.log(e,"Cannot create client")))}},computed:{loggedIn(){return 1==localStorage.signedIn}}};const si=(0,C.Z)(oi,[["render",ii]]);var ni=si;const ri=e=>((0,s.dD)("data-v-5357fa98"),e=e(),(0,s.Cn)(),e),li={class:"outterContainer"},ai={key:1,class:"innerContainer"},di={class:"mb-3"},ci=ri((()=>(0,s._)("label",{for:"project",class:"form-label"},"Project name",-1))),ui={class:"mb-3 row"},pi={class:"col col-1"},gi=ri((()=>(0,s._)("label",{for:"fps",class:"form-label"},"FPS",-1))),hi={class:"col col-2"},mi=ri((()=>(0,s._)("label",{for:"resolution",class:"form-label"},"Resolution",-1))),wi={class:"col col-1"},fi=ri((()=>(0,s._)("label",{for:"cost",class:"form-label"},"Day rate",-1))),bi={key:0},_i=ri((()=>(0,s._)("label",{for:"clientId",class:"form-label"},"Clients",-1))),ki=["value"],yi=ri((()=>(0,s._)("button",{type:"submit",class:"btn btn-secondary"},"Create",-1))),vi={key:1};function Si(e,t,i,n,r,l){const a=(0,s.up)("sideBar"),d=(0,s.up)("mainHeading"),c=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",li,[l.loggedIn?((0,s.wg)(),(0,s.j4)(a,{key:0})):(0,s.kq)("",!0),r.bidId?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ai,[(0,s.Wm)(d,{title:"New Bid"}),(0,s._)("form",{onSubmit:t[5]||(t[5]=(0,o.iM)(((...e)=>l.addNewBid&&l.addNewBid(...e)),["prevent"]))},[(0,s._)("div",di,[ci,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>r.project=e),id:"name"},null,512),[[o.nr,r.project]]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.v$.project.$errors,(e=>((0,s.wg)(),(0,s.iD)("p",{key:e.$uid,class:"error"},[(0,s._)("strong",null,(0,F.zw)(e.$message),1)])))),128))]),(0,s._)("div",ui,[(0,s._)("div",pi,[gi,(0,s.wy)((0,s._)("input",{type:"number",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>r.fps=e),id:"fps"},null,512),[[o.nr,r.fps]]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.v$.fps.$errors,(e=>((0,s.wg)(),(0,s.iD)("p",{key:e.$uid,class:"error"},[(0,s._)("strong",null,(0,F.zw)(e.$message),1)])))),128))]),(0,s._)("div",hi,[mi,(0,s.wy)((0,s._)("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":t[2]||(t[2]=e=>r.resolution=e),id:"resolution"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.resolutions,(e=>((0,s.wg)(),(0,s.iD)("option",{key:e},(0,F.zw)(e),1)))),128))],512),[[o.bM,r.resolution]]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.v$.resolution.$errors,(e=>((0,s.wg)(),(0,s.iD)("p",{key:e.$uid,class:"error"},[(0,s._)("strong",null,(0,F.zw)(e.$message),1)])))),128))]),(0,s._)("div",wi,[fi,(0,s.wy)((0,s._)("input",{type:"number",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>r.cost=e),id:"cost"},null,512),[[o.nr,r.cost]]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.v$.cost.$errors,(e=>((0,s.wg)(),(0,s.iD)("p",{key:e.$uid,class:"error"},[(0,s._)("strong",null,(0,F.zw)(e.$message),1)])))),128))])]),r.clients.length?((0,s.wg)(),(0,s.iD)("div",bi,[_i,(0,s.wy)((0,s._)("select",{class:"form-select mb-3","aria-label":"Default select example","onUpdate:modelValue":t[4]||(t[4]=e=>r.clientId=e)},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.clients,(e=>((0,s.wg)(),(0,s.iD)("option",{key:e.name,value:e.id},(0,F.zw)(e.name)+" : "+(0,F.zw)(e.studio),9,ki)))),128))],512),[[o.bM,r.clientId]]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.v$.clientId.$errors,(e=>((0,s.wg)(),(0,s.iD)("p",{key:e.$uid,class:"error"},[(0,s._)("strong",null,(0,F.zw)(e.$message),1)])))),128)),yi])):((0,s.wg)(),(0,s.iD)("div",vi,[(0,s.Wm)(c,{to:"/newClient"},{default:(0,s.w5)((()=>[(0,s.Uk)("You have no clients - click here to add one")])),_:1})]))],32)]))])}var Ci={components:{mainHeading:tt,sideBar:Ae},data(){return{v$:(0,he.ZP)(),project:"",fps:"",resolution:"",clientId:"",cost:"",bidId:"",user:{},clients:{},error:[],resolutions:["2k HD (1920 × 1080)","2K (2048 x 1080)","4K (4096 x 2160)","4K UHD (3840 × 2160)","5K (5120 × 2700)","8K UHD (7680 × 4320)","720p (1280 × 720)","576p (720 × 576)","480p (720 × 480)"]}},created(){this.getClientList()},validations(){return{project:{required:me.C1,minLength:(0,me.Ei)(4),maxLength:(0,me.BS)(20)},fps:{required:me.C1,betweenValue:(0,me.vX)(10,100)},resolution:{required:me.C1},cost:{required:me.C1,numeric:me.uR,betweenValue:(0,me.vX)(0,1e11)},clientId:{required:me.C1}}},methods:{addNewBid(){this.v$.$validate(),this.v$.$error?console.log("Form is invalid"):this.secured.post("/bids",{bid:{project:this.project,fps:this.fps,resolution:this.resolution,cost:this.cost,client_id:this.clientId}}).then((e=>{this.bidId=e.data.id,localStorage.currentBid=this.bidId,this.$router.replace("/buildBid"),this.error=[]})).catch((e=>console.log(e,"Cannot create bid")))},getClientList(){this.secured.get("/clients").then((e=>{this.clients=e.data,console.log(this.clients)}))}},computed:{loggedIn(){return 1==localStorage.signedIn}}};const Di=(0,C.Z)(Ci,[["render",Si],["__scopeId","data-v-5357fa98"]]);var Ui=Di;const Ii=e=>((0,s.dD)("data-v-66158c6e"),e=e(),(0,s.Cn)(),e),$i={class:"form-group"},Vi=Ii((()=>(0,s._)("label",{for:"newName"},"Enter Shot Name",-1))),xi=Ii((()=>(0,s._)("button",{type:"submit",class:"btn btn-success"},"Create Shot",-1))),Fi=Ii((()=>(0,s._)("th",{scope:"col"},"#",-1))),Bi=Ii((()=>(0,s._)("th",{scope:"col"},"Thumbnail",-1))),Mi=Ii((()=>(0,s._)("th",{scope:"col"},"Shot Name",-1))),Li=Ii((()=>(0,s._)("th",{scope:"col"},"Scene",-1))),zi=Ii((()=>(0,s._)("th",{scope:"col"},"Description",-1))),Ni=Ii((()=>(0,s._)("th",{scope:"col"},"VFX Work",-1))),ji=Ii((()=>(0,s._)("th",{scope:"col"},"Methodology",-1))),Oi=Ii((()=>(0,s._)("th",{scope:"col"},"Notes",-1))),Hi=Ii((()=>(0,s._)("th",{scope:"col"},"Days",-1))),Pi=Ii((()=>(0,s._)("th",{scope:"col"},"Total",-1))),qi=Ii((()=>(0,s._)("th",{scope:"col"},null,-1))),Ti={scope:"col"},Ki={scope:"col"},Ei={scope:"row"},Zi={class:"shotCellSmall"},Yi=["src"],Ri={class:"shotCellSmall"},Wi=["onUpdate:modelValue"],Xi=["title"],Ai={class:"shotCellSmall"},Gi=["onUpdate:modelValue"],Ji=["title"],Qi={class:"shotCellLarge"},eo=["onUpdate:modelValue"],to=["title"],io={class:"shotCellLarge"},oo=["onUpdate:modelValue"],so=["title"],no={class:"shotCellLarge"},ro=["onUpdate:modelValue"],lo=["title"],ao={class:"shotCellLarge"},co=["onUpdate:modelValue"],uo=["title"],po={class:"shotCellSmall"},go=["onUpdate:modelValue"],ho=["title"],mo={class:"shotCellSmall"},wo={key:0},fo=["title"],bo=["onClick"],_o=["onClick"],ko=["onClick"],yo={key:0},vo=["onSubmit"],So=Ii((()=>(0,s._)("button",{type:"submit",class:"btn btn-light"}," Confirm Image ",-1))),Co={key:1},Do=["onClick"];function Uo(e,t,i,n,r,l){const a=(0,s.up)("sideBar");return(0,s.wg)(),(0,s.iD)("div",null,[l.loggedIn?((0,s.wg)(),(0,s.j4)(a,{key:0})):(0,s.kq)("",!0),r.showNewForm?((0,s.wg)(),(0,s.iD)("form",{key:1,onSubmit:t[1]||(t[1]=(0,o.iM)(((...e)=>l.addNewShot&&l.addNewShot(...e)),["prevent"]))},[(0,s._)("div",$i,[Vi,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"newName","onUpdate:modelValue":t[0]||(t[0]=e=>r.newName=e)},null,512),[[o.nr,r.newName]])]),xi],32)):(0,s.kq)("",!0),(0,s._)("table",{class:(0,F.C_)(["table table-hover table-striped",r.darkMode?"table-dark":"table-light"])},[(0,s._)("thead",null,[(0,s._)("tr",null,[Fi,Bi,Mi,Li,zi,Ni,ji,Oi,Hi,Pi,qi,(0,s._)("th",Ti,[(0,s._)("button",{class:"btn btn-success",onClick:t[2]||(t[2]=(...e)=>l.showNewShot&&l.showNewShot(...e))}," Add New Shot ")]),(0,s._)("th",Ki,[(0,s._)("button",{class:(0,F.C_)(["btn",r.darkMode?"btn-outline-light":"btn-outline-dark"]),onClick:t[3]||(t[3]=(...e)=>l.darkModeToggle&&l.darkModeToggle(...e))},(0,F.zw)(r.onOff),3)])])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.shots,((e,i)=>((0,s.wg)(),(0,s.iD)("tr",{key:e},[(0,s._)("th",Ei,(0,F.zw)(i+1),1),(0,s._)("td",Zi,[(0,s._)("img",{class:"image",src:e.image,alt:"shot thumbnail"},null,8,Yi)]),(0,s._)("td",Ri,[r.editing===i?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:0,type:"text","onUpdate:modelValue":e=>r.shots[i].name=e},null,8,Wi)),[[o.nr,r.shots[i].name]]):((0,s.wg)(),(0,s.iD)("div",{key:1,title:e.name},(0,F.zw)(e.name),9,Xi))]),(0,s._)("td",Ai,[r.editing===i?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:0,type:"text","onUpdate:modelValue":e=>r.shots[i].scene=e},null,8,Gi)),[[o.nr,r.shots[i].scene]]):((0,s.wg)(),(0,s.iD)("div",{key:1,title:e.scene},(0,F.zw)(e.scene),9,Ji))]),(0,s._)("td",Qi,[r.editing===i?(0,s.wy)(((0,s.wg)(),(0,s.iD)("textarea",{key:0,type:"text","onUpdate:modelValue":e=>r.shots[i].description=e},null,8,eo)),[[o.nr,r.shots[i].description]]):((0,s.wg)(),(0,s.iD)("div",{key:1,title:e.description},(0,F.zw)(e.description),9,to))]),(0,s._)("td",io,[r.editing===i?(0,s.wy)(((0,s.wg)(),(0,s.iD)("textarea",{key:0,type:"text","onUpdate:modelValue":e=>r.shots[i].vfx_work=e},null,8,oo)),[[o.nr,r.shots[i].vfx_work]]):((0,s.wg)(),(0,s.iD)("div",{key:1,title:e.vfx_work},(0,F.zw)(e.vfx_work),9,so))]),(0,s._)("td",no,[r.editing===i?(0,s.wy)(((0,s.wg)(),(0,s.iD)("textarea",{key:0,type:"text","onUpdate:modelValue":e=>r.shots[i].methodology=e},null,8,ro)),[[o.nr,r.shots[i].methodology]]):((0,s.wg)(),(0,s.iD)("div",{key:1,title:e.methodology},(0,F.zw)(e.methodology),9,lo))]),(0,s._)("td",ao,[r.editing===i?(0,s.wy)(((0,s.wg)(),(0,s.iD)("textarea",{key:0,type:"text","onUpdate:modelValue":e=>r.shots[i].notes=e},null,8,co)),[[o.nr,r.shots[i].notes]]):((0,s.wg)(),(0,s.iD)("div",{key:1,title:e.notes},(0,F.zw)(e.notes),9,uo))]),(0,s._)("td",po,[r.editing===i?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:0,type:"number","onUpdate:modelValue":e=>r.shots[i].days=e},null,8,go)),[[o.nr,r.shots[i].days]]):((0,s.wg)(),(0,s.iD)("div",{key:1,title:e.days},(0,F.zw)(e.days),9,ho))]),(0,s._)("td",mo,[r.editing===i?((0,s.wg)(),(0,s.iD)("span",wo,"Not editable")):((0,s.wg)(),(0,s.iD)("div",{key:1,title:e.total},(0,F.zw)(l.formatCurrency(e.total)),9,fo))]),(0,s._)("td",null,[(0,s._)("button",{class:(0,F.C_)(["btn",r.darkMode?"btn-light":"btn-dark"]),onClick:t=>l.deleteShot(e.id)}," Delete ",10,bo)]),(0,s._)("td",null,[r.editing===i?((0,s.wg)(),(0,s.iD)("button",{key:0,class:(0,F.C_)(["btn",r.darkMode?"btn-light":"btn-dark"]),onClick:t=>l.updateShot(e.id,i)}," Update ",10,_o)):((0,s.wg)(),(0,s.iD)("button",{key:1,class:(0,F.C_)(["btn",r.darkMode?"btn-light":"btn-dark"]),onClick:e=>l.editShot(i)}," Edit ",10,ko))]),(0,s._)("td",null,[r.showImageInput===i?((0,s.wg)(),(0,s.iD)("div",yo,[(0,s._)("form",{enctype:"multipart/form-data",onSubmit:(0,o.iM)((t=>l.sendImage(e.id)),["prevent"])},[(0,s._)("input",{class:"form-control",type:"file",ref_for:!0,ref:"file",onChange:t[4]||(t[4]=(...e)=>l.selectFile&&l.selectFile(...e))},null,544),So],40,vo)])):((0,s.wg)(),(0,s.iD)("div",Co,[(0,s._)("button",{class:(0,F.C_)(["btn",r.darkMode?"btn-light":"btn-dark"]),onClick:e=>l.showImageForm(i)}," Upload Image ",10,Do)]))])])))),128))])],2)])}var Io={components:{sideBar:Ae},data(){return{shots:[],darkMode:!1,onOff:"Dark Mode",editing:!1,newName:"",showNewForm:!1,showImageInput:!1,file:"",rate:""}},created(){this.getRate(),this.printList()},methods:{showNewShot(){this.showNewForm=!this.showNewForm},addNewShot(){this.secured.post("/shots",{shot:{name:this.newName,bid_id:localStorage.currentBid}}).then((()=>{this.printList(),this.newName="",this.showNewForm=!1})).catch((e=>console.log(e,"Cannot create client")))},deleteShot(e){this.secured.delete(`/shots/${e}`).then((()=>{this.printList()})).catch((e=>console.log(e,"Cannot delete record")))},editShot(e){this.editing=e},showImageForm(e){this.showImageInput=e},updateShot(e,t){this.secured.patch(`shots/${e}`,{shot:{name:this.shots[t].name,description:this.shots[t].description,methodology:this.shots[t].methodology,scene:this.shots[t].scene,vfx_work:this.shots[t].vfx_work,notes:this.shots[t].notes,days:this.shots[t].days,total:this.rate*this.shots[t].days}}).then((()=>{this.editing=!1,this.printList()})).catch((e=>console.log(e,"Cannot update record")))},printList(){this.plain.get("/shots",{params:{bid_id:localStorage.currentBid}}).then((e=>{this.shots=e.data}))},darkModeToggle(){this.darkMode=!this.darkMode,this.onOff=this.darkMode?"Light Mode":"Dark Mode"},selectFile(){this.file=this.$refs.file[0].files[0],console.log("1",this.$refs.file[0].files[0])},sendImage(e){let t=new FormData;t.append("file",this.file),console.log("2",...t.entries()),this.secured.patch(`/shotsImage/${e}`,t).then((e=>{console.log("3",...t.entries()),console.log("4",e.data)})).then((()=>{this.editing=!1,this.printList(),this.showImageInput=!1})).catch((e=>console.log(e,"Cannot process studio update")))},getRate(){this.plain.get(`/bids/${localStorage.currentBid}`).then((e=>{this.rate=e.data.cost})).catch((e=>console.log(e,"Cannot get rate")))},formatCurrency(e){let t=(e/1).toFixed(2);return t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),"€"+t}},computed:{loggedIn(){return 1==localStorage.signedIn}}};const $o=(0,C.Z)(Io,[["render",Uo],["__scopeId","data-v-66158c6e"]]);var Vo=$o;const xo=[{path:"/",name:"signIn",component:G},{path:"/register",name:"registerUser",component:be},{path:"/bidsView",name:"bidView",component:st},{path:"/clientsView",name:"clientView",component:It},{path:"/usersView",name:"userView",component:at},{path:"/studioView",name:"studioView",component:Et},{path:"/newClient",name:"newClient",component:ni},{path:"/newBid",name:"newBid",component:Ui},{path:"/buildBid",name:"buildBid",component:Vo},{path:"/:pathMatch(.*)",redirect:"/"}],Fo=(0,x.p7)({history:(0,x.PO)(),routes:xo});var Bo=Fo,Mo=i(2346),Lo=i(594);const zo="http://100.24.105.176:3000/",No=Lo.Z.create({baseURL:zo,withCredentials:!0,headers:{"Content-Type":"application/json"}}),jo=Lo.Z.create({baseURL:zo,withCredentials:!0,headers:{"Content-Type":"application/json"}}),Oo=Lo.Z.create({baseURL:zo,withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}});No.interceptors.request.use((e=>{const t=e.method.toUpperCase();return"OPTIONS"!==t&&"GET"!==t&&(e.headers={...e.headers,"X-CSRF-TOKEN":localStorage.csrf}),e})),No.interceptors.response.use(null,(e=>e.response&&e.response.config&&401===e.response.status?jo.post("/refresh",{},{headers:{"X-CSRF-TOKEN":localStorage.csrf}}).then((t=>{localStorage.csrf=t.data.csrf,localStorage.signedIn=!0;let i=e.response.config;return i.headers["X-CSRF-TOKEN"]=localStorage.csrf,jo.request(i)})).catch((e=>(delete localStorage.csrf,delete localStorage.signedIn,location.replace("/"),Promise.reject(e)))):Promise.reject(e))),Oo.interceptors.request.use((e=>{const t=e.method.toUpperCase();return"OPTIONS"!==t&&"GET"!==t&&(e.headers={...e.headers,"X-CSRF-TOKEN":localStorage.csrf}),e})),Oo.interceptors.response.use(null,(e=>e.response&&e.response.config&&401===e.response.status?jo.post("/refresh",{},{headers:{"X-CSRF-TOKEN":localStorage.csrf}}).then((t=>{localStorage.csrf=t.data.csrf,localStorage.signedIn=!0;let i=e.response.config;return i.headers["X-CSRF-TOKEN"]=localStorage.csrf,jo.request(i)})).catch((e=>(delete localStorage.csrf,delete localStorage.signedIn,location.replace("/"),Promise.reject(e)))):Promise.reject(e)));var Ho=i(7810),Po=i(3636),qo=i(9417);i(2666);Po.vI.add(qo.ILF,qo.byT,qo.P88,qo.tAh),(0,o.ri)(V).use(Bo).use(Mo.Z,{secured:No,plain:jo,image:Oo}).component("vue-sidebar-menu-akahon",Re.Z).component("svg-icon",l.Z).component("font-awesome-icon",Ho.GN).mount("#app")}},t={};function i(o){var s=t[o];if(void 0!==s)return s.exports;var n=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}i.m=e,function(){i.amdO={}}(),function(){var e=[];i.O=function(t,o,s,n){if(!o){var r=1/0;for(c=0;c<e.length;c++){o=e[c][0],s=e[c][1],n=e[c][2];for(var l=!0,a=0;a<o.length;a++)(!1&n||r>=n)&&Object.keys(i.O).every((function(e){return i.O[e](o[a])}))?o.splice(a--,1):(l=!1,n<r&&(r=n));if(l){e.splice(c--,1);var d=s();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[o,s,n]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){i.p="/"}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,n,r=o[0],l=o[1],a=o[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(s in l)i.o(l,s)&&(i.m[s]=l[s]);if(a)var c=a(i)}for(t&&t(o);d<r.length;d++)n=r[d],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return i.O(c)},o=self["webpackChunkfront"]=self["webpackChunkfront"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=i.O(void 0,[998],(function(){return i(8453)}));o=i.O(o)})();
//# sourceMappingURL=app.b3abc80d.js.map