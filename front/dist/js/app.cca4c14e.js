(function(){"use strict";var e={1169:function(e,t,s){var o=s(9963),i=s(6252);const n={id:"app"};function l(e,t,s,o,l,r){const a=(0,i.up)("logOut"),d=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",n,[l.currentUser.id>0?((0,i.wg)(),(0,i.j4)(a,{key:0})):(0,i.kq)("",!0),(0,i.Wm)(d)])}var r=s(4862);const a={class:"logOutButton"};function d(e,t,s,o,n,l){return(0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("button",{class:"btn button_logout mt-2 mb-2",onClick:t[0]||(t[0]=e=>l.logout())}," Logout ")])}var c={methods:{logout(){this.secured.delete("/signin"),delete localStorage.email,delete localStorage.signedIn,delete localStorage.message,this.$router.replace("/")}}},u=s(3744);const h=(0,u.Z)(c,[["render",d],["__scopeId","data-v-13212426"]]);var p=h,g={data(){return{currentUser:{}}},components:{logOut:p},created(){this.getCurrentUser()},methods:{getCurrentUser(){this.plain.get("/current").then((e=>{this.currentUser=e.data})).catch((()=>{this.currentUser={}}))}},setup(){return{SvgIcon:r.Z}},computed:{loggedIn(){return this.currentUser}}};const m=(0,u.Z)(g,[["render",l]]);var w=m,f=s(2201),b=s(3577),_=s.p+"img/star.f71d45d3.png";const k=e=>((0,i.dD)("data-v-c3a1fc8a"),e=e(),(0,i.Cn)(),e),y={class:"container flexContainer"},v={class:"flex-2"},C={key:0,class:"error"},S={class:"input-icons mb-4"},D={class:"icon"},U={class:"input-icons mb-5"},I={class:"icon"},V=k((()=>(0,i._)("button",{type:"submit",class:"btn button_login mb-3"},"Sign in",-1))),$=k((()=>(0,i._)("img",{class:"imgBG",src:_,alt:""},null,-1)));function x(e,t,s,n,l,r){const a=(0,i.up)("superiorHeading"),d=(0,i.up)("font-awesome-icon"),c=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",y,[(0,i.Wm)(a,{class:"flex-1",title:"Bid VFX"}),(0,i._)("div",v,[(0,i._)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)(((...e)=>r.signin&&r.signin(...e)),["prevent"]))},[l.error?((0,i.wg)(),(0,i.iD)("div",C,(0,b.zw)(l.error),1)):(0,i.kq)("",!0),(0,i._)("div",S,[(0,i._)("i",D,[(0,i.Wm)(d,{icon:"user"})]),(0,i.wy)((0,i._)("input",{type:"email",class:"form-control input-field input_user","onUpdate:modelValue":t[0]||(t[0]=e=>l.email=e),id:"email",placeholder:"Email",autocomplete:"off"},null,512),[[o.nr,l.email]])]),(0,i._)("div",U,[(0,i._)("i",I,[(0,i.Wm)(d,{icon:"lock"})]),(0,i.wy)((0,i._)("input",{type:"password",class:"form-control input-field input_user","onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),id:"password",placeholder:"Password",autocomplete:"off"},null,512),[[o.nr,l.password]])]),V],32),(0,i.Wm)(c,{class:"Form_link",to:"/register"},{default:(0,i.w5)((()=>[(0,i.Uk)("Create account")])),_:1})])]),$])}const F={class:"heading_superior"};function B(e,t,s,o,n,l){return(0,i.wg)(),(0,i.iD)("span",null,[(0,i._)("h1",F,(0,b.zw)(s.title.toUpperCase()),1)])}var L={props:{title:String}};const M=(0,u.Z)(L,[["render",B],["__scopeId","data-v-4e98cd46"]]);var z=M,N={name:"signIn",components:{superiorHeading:z},data(){return{email:"",password:"",error:"",id:"",currentUser:[]}},created(){this.checkSignedIn(),this.getCurrentUser()},updated(){this.checkSignedIn()},methods:{signin(){this.plain.post("/signin",{email:this.email,password:this.password}).then((e=>this.signinSuccessful(e))).catch((e=>this.signinFailed(e)))},signinSuccessful(e){e.data.csrf?(localStorage.csrf=e.data.csrf,localStorage.email=this.email,localStorage.signedIn=1,this.error="",this.$router.replace("/bidsView")):this.signinFailed(e)},signinFailed(e){this.error=e.response&&e.response.data&&e.response.data.error||"",delete localStorage.csrf,delete localStorage.email,delete localStorage.signedIn},checkSignedIn(){localStorage.csrf&&this.$router.replace("/bidsView")},getCurrentUser(){this.plain.get("/current").then((e=>{this.currentUser=e.data})).catch((e=>console.log(e,"Cannot get user")))}},computed:{loggedIn(){return this.currentUser}}};const j=(0,u.Z)(N,[["render",x],["__scopeId","data-v-c3a1fc8a"]]);var O=j;const H=e=>((0,i.dD)("data-v-1df0352e"),e=e(),(0,i.Cn)(),e),P={class:"container flexContainer"},q={class:"flex-2"},K={key:0},T={class:"input-icons mb-4"},E={class:"icon"},Z={class:"input-icons mb-4"},Y={class:"icon"},W={class:"input-icons mb-4"},R={class:"icon"},X={class:"input-icons mb-5"},A={class:"icon"},G={key:0,class:"error"},J=H((()=>(0,i._)("button",{type:"submit",class:"btn button_login mb-3"},"Register",-1))),Q=H((()=>(0,i._)("img",{class:"imgBG",src:_,alt:""},null,-1)));function ee(e,t,s,n,l,r){const a=(0,i.up)("superiorHeading"),d=(0,i.up)("font-awesome-icon"),c=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",P,[(0,i.Wm)(a,{class:"flex-1",title:"Bid VFX"}),(0,i._)("div",q,[(0,i._)("form",{onSubmit:t[4]||(t[4]=(0,o.iM)(((...e)=>r.register&&r.register(...e)),["prevent"]))},[l.error?((0,i.wg)(),(0,i.iD)("div",K,(0,b.zw)(l.error),1)):(0,i.kq)("",!0),(0,i._)("div",T,[(0,i._)("i",E,[(0,i.Wm)(d,{icon:"user"})]),(0,i.wy)((0,i._)("input",{type:"email",class:"form-control input-field input_user","onUpdate:modelValue":t[0]||(t[0]=e=>l.email=e),id:"email",placeholder:"Email",autocomplete:"off"},null,512),[[o.nr,l.email]]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.v$.email.$errors,(e=>((0,i.wg)(),(0,i.iD)("p",{key:e.$uid,class:"error"},[(0,i._)("strong",null,(0,b.zw)(e.$message),1)])))),128))]),(0,i._)("div",Z,[(0,i._)("i",Y,[(0,i.Wm)(d,{icon:"building"})]),(0,i.wy)((0,i._)("input",{type:"text",class:"form-control input-field input_user","onUpdate:modelValue":t[1]||(t[1]=e=>l.studio=e),id:"studio",placeholder:"Your Studio Name",autocomplete:"off"},null,512),[[o.nr,l.studio]]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.v$.studio.$errors,(e=>((0,i.wg)(),(0,i.iD)("p",{key:e.$uid,class:"error"},[(0,i._)("strong",null,(0,b.zw)(e.$message),1)])))),128))]),(0,i._)("div",W,[(0,i._)("i",R,[(0,i.Wm)(d,{icon:"unlock"})]),(0,i.wy)((0,i._)("input",{type:"password",class:"form-control input-field input_user","onUpdate:modelValue":t[2]||(t[2]=e=>l.password=e),id:"password",placeholder:"Password",autocomplete:"off"},null,512),[[o.nr,l.password]]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.v$.password.$errors,(e=>((0,i.wg)(),(0,i.iD)("p",{key:e.$uid,class:"error"},[(0,i._)("strong",null,(0,b.zw)(e.$message),1)])))),128))]),(0,i._)("div",X,[(0,i._)("i",A,[(0,i.Wm)(d,{icon:"lock"})]),(0,i.wy)((0,i._)("input",{type:"password",class:"form-control input-field input_user","onUpdate:modelValue":t[3]||(t[3]=e=>l.confirmPassword=e),id:"confirmPassword",placeholder:"Confirm Password",autocomplete:"off"},null,512),[[o.nr,l.confirmPassword]]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.v$.confirmPassword.$errors,(e=>((0,i.wg)(),(0,i.iD)("p",{key:e.$uid,class:"error"},[(0,i._)("strong",null,(0,b.zw)(e.$message),1)])))),128)),l.errorP?((0,i.wg)(),(0,i.iD)("p",G,[(0,i._)("strong",null,(0,b.zw)(l.errorP),1)])):(0,i.kq)("",!0)]),J],32),(0,i.Wm)(c,{class:"Form_link",to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("Signin")])),_:1})]),Q])}var te=s(4028),se=s(2587),oe={name:"registerUser",data(){return{v$:(0,te.ZP)(),email:"",password:"",confirmPassword:"",studio:"",error:"",errorP:""}},components:{superiorHeading:z},created(){this.checkSignedIn()},updated(){this.checkSignedIn()},validations(){return{email:{required:se.C1,email:se.Do},password:{required:se.C1,minLength:(0,se.Ei)(8)},confirmPassword:{required:se.C1,sameAsPassword:(0,se.sH)(this.password)},studio:{required:se.C1,minLength:(0,se.Ei)(4),maxLength:(0,se.BS)(40)}}},methods:{register(){this.v$.$validate(),this.v$.$error?console.log("Form invalid"):this.plain.post("/signup",{email:this.email,password:this.password,confirmPassword:this.confirmPassword,studio:this.studio}).then((e=>this.registerSuccessful(e))).catch((e=>this.signinFailed(e)))},registerSuccessful(e){e.data.csrf?(localStorage.csrf=e.data.csrf,localStorage.message="You have successfully registered",localStorage.email=this.email,localStorage.signedIn=1,this.error="",this.$router.replace("/studioView")):this.signinFailed(e)},signinFailed(e){this.error=e.response&&e.response.data&&e.response.data.error||"",delete localStorage.csrf,delete localStorage.email,delete localStorage.signedIn},checkSignedIn(){localStorage.csrf&&this.$router.replace("/bidsView")}}};const ie=(0,u.Z)(oe,[["render",ee],["__scopeId","data-v-1df0352e"]]);var ne=ie;const le=e=>((0,i.dD)("data-v-1084e6f1"),e=e(),(0,i.Cn)(),e),re={class:"outterContainer"},ae=le((()=>(0,i._)("option",{value:"",disabled:"",selected:""},"Select a client",-1))),de=["value"],ce=le((()=>(0,i._)("button",{type:"submit",class:"btn btn-filter FilterForm_item-2"}," Filter by Client ",-1))),ue=le((()=>(0,i._)("th",{scope:"col"},"#",-1))),he=le((()=>(0,i._)("th",{scope:"col"},"Project",-1))),pe=le((()=>(0,i._)("th",{scope:"col"},"fps",-1))),ge=le((()=>(0,i._)("th",{scope:"col"},"Resolution",-1))),me=le((()=>(0,i._)("th",{scope:"col"},"Day Rate",-1))),we=le((()=>(0,i._)("th",{scope:"col"},null,-1))),fe=le((()=>(0,i._)("th",{scope:"col"},null,-1))),be={scope:"col"},_e={scope:"row"},ke=["onUpdate:modelValue"],ye={key:1},ve=["onUpdate:modelValue"],Ce={key:1},Se=["onUpdate:modelValue"],De={key:1},Ue=["onUpdate:modelValue"],Ie={key:1},Ve=["onClick"],$e=["onClick"],xe=["onClick"],Fe=["onClick"];function Be(e,t,s,n,l,r){const a=(0,i.up)("sideBar"),d=(0,i.up)("mainHeading"),c=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",null,[r.loggedIn?((0,i.wg)(),(0,i.j4)(a,{key:0})):(0,i.kq)("",!0),(0,i.Wm)(d,{class:"outterContainer",title:"Bids"}),(0,i._)("div",re,[l.listIsFiltered?((0,i.wg)(),(0,i.iD)("button",{key:1,onClick:t[2]||(t[2]=(...e)=>r.printList&&r.printList(...e)),class:"btn btn-filter mb-4"}," Filter Off ")):((0,i.wg)(),(0,i.iD)("form",{key:0,class:"FilterForm_container mb-4",onSubmit:t[1]||(t[1]=(0,o.iM)((e=>r.filterBid()),["prevent"]))},[(0,i.wy)((0,i._)("select",{class:"form-select FilterForm_item-1","aria-label":"Default select example","onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedClient=e)},[ae,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.clients,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e.name,value:e.id},(0,b.zw)(e.name)+" : "+(0,b.zw)(e.studio),9,de)))),128))],512),[[o.bM,l.selectedClient]]),ce],32))]),(0,i._)("table",{class:(0,b.C_)(["table table-hover table-striped",l.darkMode?"table-dark":"table-light"])},[(0,i._)("thead",null,[(0,i._)("tr",null,[ue,he,pe,ge,me,we,fe,(0,i._)("th",be,[(0,i._)("button",{class:(0,b.C_)(["btn",l.darkMode?"btn-outline-light":"btn-outline-dark"]),onClick:t[3]||(t[3]=(...e)=>r.darkModeToggle&&r.darkModeToggle(...e))}," Switch Dark Mode "+(0,b.zw)(l.onOff),3)])])]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.bids,((e,t)=>((0,i.wg)(),(0,i.iD)("tr",{key:t},[(0,i._)("th",_e,(0,b.zw)(t+1),1),(0,i._)("td",null,[l.editing===t?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"text","onUpdate:modelValue":e=>l.bids[t].project=e},null,8,ke)),[[o.nr,l.bids[t].project]]):((0,i.wg)(),(0,i.iD)("span",ye,[(0,i._)("b",null,(0,b.zw)(e.project),1)]))]),(0,i._)("td",null,[l.editing===t?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"text","onUpdate:modelValue":e=>l.bids[t].fps=e},null,8,ve)),[[o.nr,l.bids[t].fps]]):((0,i.wg)(),(0,i.iD)("span",Ce,(0,b.zw)(e.fps),1))]),(0,i._)("td",null,[l.editing===t?(0,i.wy)(((0,i.wg)(),(0,i.iD)("select",{key:0,class:"form-select","aria-label":"Default select example","onUpdate:modelValue":e=>l.bids[t].resolution=e,id:"resolution"},[(0,i._)("option",null,(0,b.zw)(l.bids[t].resolution),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.resolutions,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e},(0,b.zw)(e),1)))),128))],8,Se)),[[o.bM,l.bids[t].resolution]]):((0,i.wg)(),(0,i.iD)("span",De,(0,b.zw)(e.resolution),1))]),(0,i._)("td",null,[l.editing===t?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"number","onUpdate:modelValue":e=>l.bids[t].cost=e},null,8,Ue)),[[o.nr,l.bids[t].cost]]):((0,i.wg)(),(0,i.iD)("span",Ie,(0,b.zw)(r.formatCurrency(e.cost)),1))]),(0,i._)("td",null,[(0,i._)("button",{class:"btn btn-warning",onClick:t=>r.deleteBid(e.id)}," Delete ",8,Ve)]),(0,i._)("td",null,[l.editing===t?((0,i.wg)(),(0,i.iD)("button",{key:0,class:(0,b.C_)(["btn",l.darkMode?"btn-light":"btn-dark"]),onClick:s=>r.updateBid(e.id,t)}," Update ",10,$e)):((0,i.wg)(),(0,i.iD)("button",{key:1,class:(0,b.C_)(["btn",l.darkMode?"btn-light":"btn-dark"]),onClick:e=>r.editBid(t)}," Edit ",10,xe))]),(0,i._)("td",null,[(0,i._)("button",{class:"btn btn-success",onClick:t=>r.buildBid(e.id)}," Build Bid ",8,Fe)])])))),128))])],2),l.bids.length?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(c,{key:1,to:"/newBid"},{default:(0,i.w5)((()=>[(0,i.Uk)(" You have no bids - click here to add one ")])),_:1}))])}s(7658);function Le(e,t,s,o,n,l){const r=(0,i.up)("VueSidebarMenuAkahon");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(r,{menuTitle:"Bid VFX",isSearch:!1,profileImg:"../favicon.ico",profileName:l.yourStudio,profileRole:"",isExitButton:!1,menuItems:n.sideMenuItems,menuIcon:"bx-child",bgColor:"#304360"},null,8,["profileName","menuItems"])])}var Me=s(5645),ze={components:{VueSidebarMenuAkahon:Me.Z},data(){return{sideMenuItems:[{link:"/newBid",name:"new bid",tooltip:"new bid",icon:"bx-plus"},{link:"/bidsView",name:"bids",tooltip:"bids",icon:"bx-grid-alt"},{link:"/clientsView",name:"clients",tooltip:"clients",icon:"bx-group"},{link:"/studioView",name:"studio",tooltip:"studio",icon:"bx-home-circle"},{link:"/searchView",name:"search shots",tooltip:"search",icon:"bx-search-alt-2"}]}},methods:{logout(){this.secured.delete("/signin"),delete localStorage.email,delete localStorage.signedIn,delete localStorage.message,this.$router.replace("/")}},computed:{loggedIn(){return 1==localStorage.signedIn},yourStudio(){return localStorage.email?localStorage.email:""}}};const Ne=(0,u.Z)(ze,[["render",Le]]);var je=Ne;const Oe={class:"heading_main"};function He(e,t,s,o,n,l){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("h3",Oe,(0,b.zw)(s.title.toUpperCase()),1)])}var Pe={props:{title:String}};const qe=(0,u.Z)(Pe,[["render",He],["__scopeId","data-v-05e92610"]]);var Ke=qe,Te={components:{mainHeading:Ke,sideBar:je},data(){return{bids:[],darkMode:!1,onOff:"on",editing:!1,currentUser:[],shots:[],clients:{},selectedClient:"",listIsFiltered:!1,resolutions:["2k HD (1920 × 1080)","2K (2048 x 1080)","4K (4096 x 2160)","4K UHD (3840 × 2160)","5K (5120 × 2700)","8K UHD (7680 × 4320)","720p (1280 × 720)","576p (720 × 576)","480p (720 × 480)"]}},created(){this.getList(),this.getClientList(),this.printList()},methods:{deleteBid(e){this.secured.delete(`/bids/${e}`).then((()=>{this.printList()})).catch((e=>console.log(e,"Cannot delete record")))},editBid(e){this.editing=e},updateBid(e,t){this.secured.patch(`/bids/${e}`,{bid:{project:this.bids[t].project,fps:this.bids[t].fps,resolution:this.bids[t].resolution,cost:this.bids[t].cost}}).then((()=>{this.editing=!1,this.printList(),this.getShots(e,this.bids[t].cost)})).catch((e=>console.log(e,"Cannot update record")))},getList(){this.plain.get("/bids").then((e=>{console.log(e.data)}))},printList(){this.plain.get("/bids").then((e=>{this.bids=e.data,this.listIsFiltered=!1}))},darkModeToggle(){this.darkMode=!this.darkMode,this.onOff=this.darkMode?"off":"on"},buildBid(e){localStorage.currentBid=e,this.$router.replace("/buildBid")},getCurrentUser(){this.plain.get("/current").then((e=>{this.currentUser=e.data})).catch((e=>console.log(e,"Cannot get user")))},getShots(e,t){this.plain.get("/shots/",{params:{bid_id:e}}).then((e=>{this.shots=e.data,this.updateCosts(this.shots,t)}))},updateCosts(e,t){const s=Array.from(e);s.forEach((e=>{this.secured.patch(`shots/${e.id}`,{shot:{total:t*e.days}}).then((()=>{console.log("updated shot",e.id)})).catch((e=>console.log(e,"Cannot update shot")))}))},formatCurrency(e){let t=(e/1).toFixed(2);return t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),"€"+t},getClientList(){this.secured.get("/clients").then((e=>{this.clients=e.data,console.log(this.clients)}))},filterBid(){if(""!==this.selectedClient){const e=[];Object.keys(this.bids).forEach((t=>{this.bids[t].client_id===this.selectedClient&&e.push(this.bids[t])})),this.bids=e,this.selectedClient="",this.listIsFiltered=!0}}},computed:{loggedIn(){return this.currentUser}}};const Ee=(0,u.Z)(Te,[["render",Be],["__scopeId","data-v-1084e6f1"]]);var Ze=Ee;function Ye(e,t,s,o,n,l){const r=(0,i.up)("sideBar"),a=(0,i.up)("mainHeading");return(0,i.wg)(),(0,i.iD)("div",null,[l.loggedIn?((0,i.wg)(),(0,i.j4)(r,{key:0})):(0,i.kq)("",!0),(0,i.Wm)(a,{title:"Users"}),(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.users,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e.email},(0,b.zw)(e.email)+" "+(0,b.zw)(e.created_at),1)))),128))])])}var We={components:{sideBar:je,mainHeading:Ke},data(){return{users:[]}},created(){this.getList(),this.printList()},methods:{getList(){this.plain.get("/").then((e=>{console.log(e.data)}))},printList(){this.plain.get("/").then((e=>{this.users=e.data}))}},computed:{loggedIn(){return 1==localStorage.signedIn}}};const Re=(0,u.Z)(We,[["render",Ye]]);var Xe=Re;const Ae=e=>((0,i.dD)("data-v-2bf5c694"),e=e(),(0,i.Cn)(),e),Ge={class:"outterContainer"},Je=Ae((()=>(0,i._)("div",{class:"outterContainer"},[(0,i._)("a",{class:"btn btn-filter mb-4",href:"/newClient"},"Add new client")],-1))),Qe={class:"gridContainer"},et={class:"card"},tt={class:"card-body"},st=["onUpdate:modelValue"],ot={key:1,class:"card-title mb-2"},it=["onUpdate:modelValue"],nt={key:3,class:"card-subtitle mb-2"},lt=["onUpdate:modelValue"],rt={key:5,class:"card-subtitle mb-2"},at=["onClick"],dt=["onClick"],ct=["onClick"];function ut(e,t,s,n,l,r){const a=(0,i.up)("sideBar"),d=(0,i.up)("mainHeading");return(0,i.wg)(),(0,i.iD)("div",null,[r.loggedIn?((0,i.wg)(),(0,i.j4)(a,{key:0})):(0,i.kq)("",!0),(0,i._)("div",Ge,[(0,i.Wm)(d,{title:"Clients"})]),Je,(0,i._)("div",Qe,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.clients,((e,t)=>((0,i.wg)(),(0,i.iD)("ul",{key:t},[(0,i._)("div",et,[(0,i._)("div",tt,[l.editing===t?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"text","onUpdate:modelValue":e=>l.clients[t].studio=e},null,8,st)),[[o.nr,l.clients[t].studio]]):((0,i.wg)(),(0,i.iD)("h4",ot,(0,b.zw)(e.studio),1)),l.editing===t?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:2,type:"text","onUpdate:modelValue":e=>l.clients[t].name=e},null,8,it)),[[o.nr,l.clients[t].name]]):((0,i.wg)(),(0,i.iD)("h6",nt,(0,b.zw)(e.name),1)),l.editing===t?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:4,type:"text","onUpdate:modelValue":e=>l.clients[t].producer=e},null,8,lt)),[[o.nr,l.clients[t].producer]]):((0,i.wg)(),(0,i.iD)("h6",rt,(0,b.zw)(e.producer),1)),(0,i._)("div",null,[(0,i._)("button",{class:"btn btn-card",onClick:t=>r.deleteClient(e.id)}," Delete ",8,at),l.editing===t?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"btn btn-card",onClick:s=>r.updateClient(e.id,t)}," Update ",8,dt)):((0,i.wg)(),(0,i.iD)("button",{key:1,class:"btn btn-card",onClick:e=>r.editClient(t)}," Edit ",8,ct))])])])])))),128))])])}var ht={components:{mainHeading:Ke,sideBar:je},data(){return{clients:[],editing:!1}},created(){this.printList()},methods:{deleteClient(e){this.secured.delete(`/clients/${e}`).then(this.printList()).catch((e=>console.log(e,"Cannot delete record")))},editClient(e){this.editing=e},updateClient(e,t){this.secured.patch(`/clients/${e}`,{client:{name:this.clients[t].name,studio:this.clients[t].studio,producer:this.clients[t].producer}}).then((()=>{this.editing=!1,this.printList()})).catch((e=>console.log(e,"Cannot update record")))},printList(){this.secured.get("/clients").then((e=>{this.clients=e.data}))}},computed:{loggedIn(){return 1==localStorage.signedIn}}};const pt=(0,u.Z)(ht,[["render",ut],["__scopeId","data-v-2bf5c694"]]);var gt=pt;const mt=e=>((0,i.dD)("data-v-bafb9db0"),e=e(),(0,i.Cn)(),e),wt={class:"outterContainer"},ft={class:"innerContainer"},bt={type:"submit",class:"btn btn-success"},_t=mt((()=>(0,i._)("br",null,null,-1))),kt=mt((()=>(0,i._)("button",{type:"submit",class:"btn btn-success"}," Confirm Studio Details ",-1))),yt={class:"input-group input-group-sm mb-3 mt-4"},vt=["src"],Ct={key:1},St=mt((()=>(0,i._)("br",null,null,-1))),Dt=mt((()=>(0,i._)("button",{type:"submit",class:"btn btn-light"},"Update",-1))),Ut={key:2},It=mt((()=>(0,i._)("br",null,null,-1)));function Vt(e,t,s,n,l,r){const a=(0,i.up)("sideBar"),d=(0,i.up)("mainHeading");return(0,i.wg)(),(0,i.iD)("div",wt,[(0,i._)("div",ft,[r.loggedIn?((0,i.wg)(),(0,i.j4)(a,{key:0})):(0,i.kq)("",!0),l.registeredStudio?((0,i.wg)(),(0,i.j4)(d,{key:1,title:l.currentUser.studio},null,8,["title"])):(0,i.kq)("",!0),l.registeredStudio&&!l.firstTimeStudio?((0,i.wg)(),(0,i.iD)("form",{key:2,onSubmit:t[1]||(t[1]=(0,o.iM)(((...e)=>r.confirmStudio&&r.confirmStudio(...e)),["prevent"]))},[(0,i.wy)((0,i._)("input",{type:"hidden","onUpdate:modelValue":t[0]||(t[0]=e=>l.registeredStudio=e)},null,512),[[o.nr,l.registeredStudio]]),(0,i._)("button",bt,[(0,i.Uk)(" Click here to confirm "),(0,i._)("b",null,(0,b.zw)(l.registeredStudio),1),(0,i.Uk)(" as your studio name ")])],32)):(0,i.kq)("",!0),_t,l.registeredStudio&&!l.firstTimeStudio?((0,i.wg)(),(0,i.iD)("button",{key:3,onClick:t[2]||(t[2]=(...e)=>r.createStudioDetailsShow&&r.createStudioDetailsShow(...e)),class:"btn btn-light"}," Change Studio Name ")):(0,i.kq)("",!0),l.firstTimeStudio?((0,i.wg)(),(0,i.iD)("form",{key:4,onSubmit:t[4]||(t[4]=(0,o.iM)(((...e)=>r.createStudioDetails&&r.createStudioDetails(...e)),["prevent"]))},[(0,i.wy)((0,i._)("input",{class:"input-group mb-3",type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>l.registeredStudio=e)},null,512),[[o.nr,l.registeredStudio]]),kt],32)):(0,i.kq)("",!0),(0,i.Wm)(d,{title:l.studio.name},null,8,["title"]),(0,i._)("form",{enctype:"multipart/form-data",onSubmit:t[8]||(t[8]=(0,o.iM)(((...e)=>r.sendFile&&r.sendFile(...e)),["prevent"]))},[(0,i._)("div",yt,[l.editing?((0,i.wg)(),(0,i.iD)("input",{key:0,class:"form-control",type:"file",ref:"file",name:"studio[file]",onChange:t[5]||(t[5]=(...e)=>r.selectFile&&r.selectFile(...e))},null,544)):(0,i.kq)("",!0)]),l.studio.logo?((0,i.wg)(),(0,i.iD)("img",{key:0,class:"image",src:l.studio.logo,alt:"image for studio"},null,8,vt)):(0,i.kq)("",!0),l.editing?((0,i.wg)(),(0,i.iD)("div",Ct,[St,Dt,(0,i._)("button",{class:"btn btn-light btn-light-r",onClick:t[6]||(t[6]=e=>l.editing=!1)}," Cancel ")])):((0,i.wg)(),(0,i.iD)("div",Ut,[It,l.registeredStudio?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("button",{key:0,class:"btn btn-light",onClick:t[7]||(t[7]=e=>r.editStudio())}," Update Logo "))]))],32)])])}var $t={components:{mainHeading:Ke,sideBar:je},data(){return{studio:[],editing:!1,editingStudio:!1,registeredStudio:"",currentUser:{},firstTimeStudio:!1,file:[]}},created(){this.printList(),this.getCurrentUser()},methods:{editStudio(){this.editing=!0},printList(){this.secured.get("/studios").then((e=>{e.data[0]?(this.studio=e.data[0],console.log(e.data[0])):this.studio=[]})).catch((e=>console.log(e,"Cannot get studio")))},getCurrentUser(){this.plain.get("/current").then((e=>{this.currentUser=e.data,console.log(e.data),this.checkForStudio()})).catch((e=>console.log(e,"Cannot get user")))},checkForStudio(){this.registeredStudio=this.currentUser.studio},confirmStudio(){this.secured.post("/studios",{studio:{name:this.currentUser.studio}}).then((()=>{this.deleteStudioFromUser(),this.registeredStudio=null,this.printList()})).catch((e=>console.log(e,"Cannot update record")))},createStudioDetailsShow(){this.firstTimeStudio=!0},createStudioDetails(){this.secured.post("/studios",{studio:{name:this.registeredStudio}}).then((()=>{console.log("made studio"),this.deleteStudioFromUser(),this.registeredStudio=null,this.firstTimeStudio=!1,this.$router.reload()})).catch((e=>console.log(e,"Cannot update studio")))},deleteStudioFromUser(){this.secured.patch(`/signinUser/${this.currentUser.id}`,{user:{studio:null}}).then((()=>{console.log("deleted studio"),this.printList()})).catch((e=>console.log(e,"Cannot delete")))},selectFile(){this.file=this.$refs.file.files[0]},sendFile(){let e=new FormData;e.append("file",this.file),this.secured.patch(`/studios/${this.studio.id}`,e).then((()=>console.log(...e.entries()))).then((()=>{this.editing=!1,this.printList()})).catch((e=>console.log(e,"Cannot process studio update")))}},computed:{loggedIn(){return 1==localStorage.signedIn}}};const xt=(0,u.Z)($t,[["render",Vt],["__scopeId","data-v-bafb9db0"]]);var Ft=xt;const Bt={class:"outterContainer"},Lt={class:"innerContainer"},Mt={key:0},zt=(0,i._)("div",{class:"mb-3"},null,-1),Nt={class:"mb-3"},jt=(0,i._)("label",{for:"name",class:"form-label"},"Name",-1),Ot={class:"mb-3"},Ht=(0,i._)("label",{for:"producer",class:"form-label"},"Producer",-1),Pt={class:"mb-3"},qt=(0,i._)("label",{for:"studio",class:"form-label"},"Studio",-1),Kt=(0,i._)("button",{type:"submit",class:"btn btn-secondary"},"Create",-1);function Tt(e,t,s,n,l,r){const a=(0,i.up)("sideBar"),d=(0,i.up)("mainHeading");return(0,i.wg)(),(0,i.iD)("div",Bt,[r.loggedIn?((0,i.wg)(),(0,i.j4)(a,{key:0})):(0,i.kq)("",!0),(0,i._)("div",Lt,[(0,i.Wm)(d,{title:"New Client"}),(0,i._)("form",{onSubmit:t[3]||(t[3]=(0,o.iM)(((...e)=>r.addNewClient&&r.addNewClient(...e)),["prevent"]))},[e.error?((0,i.wg)(),(0,i.iD)("div",Mt,(0,b.zw)(e.error),1)):(0,i.kq)("",!0),zt,(0,i._)("div",Nt,[jt,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>l.name=e),id:"name",placeholder:"Client's Name"},null,512),[[o.nr,l.name]]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.v$.name.$errors,(e=>((0,i.wg)(),(0,i.iD)("p",{key:e.$uid,class:"error"},[(0,i._)("strong",null,(0,b.zw)(e.$message),1)])))),128))]),(0,i._)("div",Ot,[Ht,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>l.producer=e),id:"producer",placeholder:"Producer's Name"},null,512),[[o.nr,l.producer]]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.v$.producer.$errors,(e=>((0,i.wg)(),(0,i.iD)("p",{key:e.$uid,class:"error"},[(0,i._)("strong",null,(0,b.zw)(e.$message),1)])))),128))]),(0,i._)("div",Pt,[qt,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>l.studio=e),id:"studio",placeholder:"Studio Name"},null,512),[[o.nr,l.studio]]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.v$.studio.$errors,(e=>((0,i.wg)(),(0,i.iD)("p",{key:e.$uid,class:"error"},[(0,i._)("strong",null,(0,b.zw)(e.$message),1)])))),128))]),Kt],32)])])}var Et={components:{mainHeading:Ke,sideBar:je},data(){return{v$:(0,te.ZP)(),name:"",producer:"",studio:""}},created(){},validations(){return{name:{required:se.C1,minLength:(0,se.Ei)(4),maxLength:(0,se.BS)(50)},producer:{minLength:(0,se.Ei)(4),maxLength:(0,se.BS)(50)},studio:{required:se.C1,minLength:(0,se.Ei)(4),maxLength:(0,se.BS)(50)}}},methods:{addNewClient(){this.v$.$validate(),this.v$.$error?console.log("Form cannot be validated"):this.secured.post("/clients",{client:{name:this.name,studio:this.studio,producer:this.producer}}).then((e=>{console.log(e.data),this.$router.replace("/clientsView")})).catch((e=>console.log(e,"Cannot create client")))}},computed:{loggedIn(){return 1==localStorage.signedIn}}};const Zt=(0,u.Z)(Et,[["render",Tt]]);var Yt=Zt;const Wt=e=>((0,i.dD)("data-v-5357fa98"),e=e(),(0,i.Cn)(),e),Rt={class:"outterContainer"},Xt={key:1,class:"innerContainer"},At={class:"mb-3"},Gt=Wt((()=>(0,i._)("label",{for:"project",class:"form-label"},"Project name",-1))),Jt={class:"mb-3 row"},Qt={class:"col col-1"},es=Wt((()=>(0,i._)("label",{for:"fps",class:"form-label"},"FPS",-1))),ts={class:"col col-2"},ss=Wt((()=>(0,i._)("label",{for:"resolution",class:"form-label"},"Resolution",-1))),os={class:"col col-1"},is=Wt((()=>(0,i._)("label",{for:"cost",class:"form-label"},"Day rate",-1))),ns={key:0},ls=Wt((()=>(0,i._)("label",{for:"clientId",class:"form-label"},"Clients",-1))),rs=["value"],as=Wt((()=>(0,i._)("button",{type:"submit",class:"btn btn-secondary"},"Create",-1))),ds={key:1};function cs(e,t,s,n,l,r){const a=(0,i.up)("sideBar"),d=(0,i.up)("mainHeading"),c=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",Rt,[r.loggedIn?((0,i.wg)(),(0,i.j4)(a,{key:0})):(0,i.kq)("",!0),l.bidId?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",Xt,[(0,i.Wm)(d,{title:"New Bid"}),(0,i._)("form",{onSubmit:t[5]||(t[5]=(0,o.iM)(((...e)=>r.addNewBid&&r.addNewBid(...e)),["prevent"]))},[(0,i._)("div",At,[Gt,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>l.project=e),id:"name"},null,512),[[o.nr,l.project]]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.v$.project.$errors,(e=>((0,i.wg)(),(0,i.iD)("p",{key:e.$uid,class:"error"},[(0,i._)("strong",null,(0,b.zw)(e.$message),1)])))),128))]),(0,i._)("div",Jt,[(0,i._)("div",Qt,[es,(0,i.wy)((0,i._)("input",{type:"number",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>l.fps=e),id:"fps"},null,512),[[o.nr,l.fps]]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.v$.fps.$errors,(e=>((0,i.wg)(),(0,i.iD)("p",{key:e.$uid,class:"error"},[(0,i._)("strong",null,(0,b.zw)(e.$message),1)])))),128))]),(0,i._)("div",ts,[ss,(0,i.wy)((0,i._)("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":t[2]||(t[2]=e=>l.resolution=e),id:"resolution"},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.resolutions,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e},(0,b.zw)(e),1)))),128))],512),[[o.bM,l.resolution]]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.v$.resolution.$errors,(e=>((0,i.wg)(),(0,i.iD)("p",{key:e.$uid,class:"error"},[(0,i._)("strong",null,(0,b.zw)(e.$message),1)])))),128))]),(0,i._)("div",os,[is,(0,i.wy)((0,i._)("input",{type:"number",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>l.cost=e),id:"cost"},null,512),[[o.nr,l.cost]]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.v$.cost.$errors,(e=>((0,i.wg)(),(0,i.iD)("p",{key:e.$uid,class:"error"},[(0,i._)("strong",null,(0,b.zw)(e.$message),1)])))),128))])]),l.clients.length?((0,i.wg)(),(0,i.iD)("div",ns,[ls,(0,i.wy)((0,i._)("select",{class:"form-select mb-3","aria-label":"Default select example","onUpdate:modelValue":t[4]||(t[4]=e=>l.clientId=e)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.clients,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e.name,value:e.id},(0,b.zw)(e.name)+" : "+(0,b.zw)(e.studio),9,rs)))),128))],512),[[o.bM,l.clientId]]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.v$.clientId.$errors,(e=>((0,i.wg)(),(0,i.iD)("p",{key:e.$uid,class:"error"},[(0,i._)("strong",null,(0,b.zw)(e.$message),1)])))),128)),as])):((0,i.wg)(),(0,i.iD)("div",ds,[(0,i.Wm)(c,{to:"/newClient"},{default:(0,i.w5)((()=>[(0,i.Uk)("You have no clients - click here to add one")])),_:1})]))],32)]))])}var us={components:{mainHeading:Ke,sideBar:je},data(){return{v$:(0,te.ZP)(),project:"",fps:"",resolution:"",clientId:"",cost:"",bidId:"",user:{},clients:{},error:[],resolutions:["2k HD (1920 × 1080)","2K (2048 x 1080)","4K (4096 x 2160)","4K UHD (3840 × 2160)","5K (5120 × 2700)","8K UHD (7680 × 4320)","720p (1280 × 720)","576p (720 × 576)","480p (720 × 480)"]}},created(){this.getClientList()},validations(){return{project:{required:se.C1,minLength:(0,se.Ei)(4),maxLength:(0,se.BS)(20)},fps:{required:se.C1,betweenValue:(0,se.vX)(10,100)},resolution:{required:se.C1},cost:{required:se.C1,numeric:se.uR,betweenValue:(0,se.vX)(0,1e11)},clientId:{required:se.C1}}},methods:{addNewBid(){this.v$.$validate(),this.v$.$error?console.log("Form is invalid"):this.secured.post("/bids",{bid:{project:this.project,fps:this.fps,resolution:this.resolution,cost:this.cost,client_id:this.clientId}}).then((e=>{this.bidId=e.data.id,localStorage.currentBid=this.bidId,this.$router.replace("/buildBid"),this.error=[]})).catch((e=>console.log(e,"Cannot create bid")))},getClientList(){this.secured.get("/clients").then((e=>{this.clients=e.data,console.log(this.clients)}))}},computed:{loggedIn(){return 1==localStorage.signedIn}}};const hs=(0,u.Z)(us,[["render",cs],["__scopeId","data-v-5357fa98"]]);var ps=hs,gs=s.p+"img/shot.8d7cc5e3.png";const ms=e=>((0,i.dD)("data-v-40e22aef"),e=e(),(0,i.Cn)(),e),ws={class:"outterContainer"},fs=ms((()=>(0,i._)("button",{type:"submit",class:"btn btn-success flex-2"}," Create Shot ",-1))),bs={id:"divToPrint"},_s={ref:"print"},ks=ms((()=>(0,i._)("th",{scope:"col"},"#",-1))),ys=ms((()=>(0,i._)("th",{scope:"col"},"Thumbnail",-1))),vs=ms((()=>(0,i._)("th",{scope:"col"},"Shot Name",-1))),Cs=ms((()=>(0,i._)("th",{scope:"col"},"Scene",-1))),Ss=ms((()=>(0,i._)("th",{scope:"col"},"Description",-1))),Ds=ms((()=>(0,i._)("th",{scope:"col"},"VFX Work",-1))),Us=ms((()=>(0,i._)("th",{scope:"col"},"Methodology",-1))),Is=ms((()=>(0,i._)("th",{scope:"col"},"Notes",-1))),Vs=ms((()=>(0,i._)("th",{scope:"col"},"Days",-1))),$s=ms((()=>(0,i._)("th",{scope:"col"},"Total",-1))),xs={scope:"col"},Fs={scope:"col"},Bs={scope:"col"},Ls={scope:"row"},Ms={class:"shotCellSmall"},zs=["src"],Ns={key:1,class:"image",src:gs,alt:"shot thumbnail"},js={class:"shotCellSmall"},Os=["onUpdate:modelValue"],Hs=["title"],Ps={class:"shotCellSmall"},qs=["onUpdate:modelValue"],Ks=["title"],Ts={class:"shotCellLarge"},Es=["onUpdate:modelValue"],Zs=["title"],Ys={class:"shotCellLarge"},Ws=["onUpdate:modelValue"],Rs=["title"],Xs={class:"shotCellLarge"},As=["onUpdate:modelValue"],Gs=["title"],Js={class:"shotCellLarge"},Qs=["onUpdate:modelValue"],eo=["title"],to={class:"shotCellSmall"},so=["onUpdate:modelValue"],oo=["title"],io={class:"shotCellSmall"},no={key:0},lo=["title"],ro=["onClick"],ao=["onClick"],co=["onClick"],uo={key:0},ho=["onSubmit"],po=ms((()=>(0,i._)("button",{type:"submit",class:"btn btn-light"}," Confirm Image ",-1))),go={key:1},mo=["onClick"];function wo(e,t,s,n,l,r){const a=(0,i.up)("sideBar");return(0,i.wg)(),(0,i.iD)("div",null,[r.loggedIn?((0,i.wg)(),(0,i.j4)(a,{key:0})):(0,i.kq)("",!0),l.showNewForm?((0,i.wg)(),(0,i.iD)("form",{key:1,onSubmit:t[1]||(t[1]=(0,o.iM)(((...e)=>r.addNewShot&&r.addNewShot(...e)),["prevent"]))},[(0,i._)("div",ws,[(0,i.wy)((0,i._)("input",{type:"text",class:"input-group-text flex-1",id:"newName","onUpdate:modelValue":t[0]||(t[0]=e=>l.newName=e),placeholder:"Enter new shot name"},null,512),[[o.nr,l.newName]]),fs])],32)):(0,i.kq)("",!0),(0,i._)("div",bs,[(0,i._)("div",_s,[(0,i._)("table",{class:(0,b.C_)(["table table-hover table-striped",l.darkMode?"table-dark":"table-light"])},[(0,i._)("thead",null,[(0,i._)("tr",null,[ks,ys,vs,Cs,Ss,Ds,Us,Is,Vs,$s,(0,i._)("th",xs,[(0,i._)("button",{class:(0,b.C_)(["btn btn-success",{disabled:l.showNewForm}]),onClick:t[2]||(t[2]=(...e)=>r.showNewShot&&r.showNewShot(...e))}," Add Shot ",2)]),(0,i._)("th",Fs,[(0,i._)("button",{class:(0,b.C_)(["btn",l.darkMode?"btn-outline-light":"btn-outline-dark"]),onClick:t[3]||(t[3]=e=>r.csvMaker())}," Print CSV ",2)]),(0,i._)("th",Bs,[(0,i._)("button",{class:(0,b.C_)(["btn",l.darkMode?"btn-outline-light":"btn-outline-dark"]),onClick:t[4]||(t[4]=(...e)=>r.darkModeToggle&&r.darkModeToggle(...e))},(0,b.zw)(l.onOff),3)])])]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.shots,((e,s)=>((0,i.wg)(),(0,i.iD)("tr",{key:e},[(0,i._)("th",Ls,(0,b.zw)(s+1),1),(0,i._)("td",Ms,[e.image?((0,i.wg)(),(0,i.iD)("img",{key:0,class:"image",src:e.image,alt:"shot thumbnail"},null,8,zs)):((0,i.wg)(),(0,i.iD)("img",Ns))]),(0,i._)("td",js,[l.editing===s?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"text","onUpdate:modelValue":e=>l.shots[s].name=e},null,8,Os)),[[o.nr,l.shots[s].name]]):((0,i.wg)(),(0,i.iD)("div",{key:1,title:e.name},(0,b.zw)(e.name),9,Hs))]),(0,i._)("td",Ps,[l.editing===s?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"text","onUpdate:modelValue":e=>l.shots[s].scene=e},null,8,qs)),[[o.nr,l.shots[s].scene]]):((0,i.wg)(),(0,i.iD)("div",{key:1,title:e.scene},(0,b.zw)(e.scene),9,Ks))]),(0,i._)("td",Ts,[l.editing===s?(0,i.wy)(((0,i.wg)(),(0,i.iD)("textarea",{key:0,type:"text","onUpdate:modelValue":e=>l.shots[s].description=e},null,8,Es)),[[o.nr,l.shots[s].description]]):((0,i.wg)(),(0,i.iD)("div",{key:1,title:e.description},(0,b.zw)(e.description),9,Zs))]),(0,i._)("td",Ys,[l.editing===s?(0,i.wy)(((0,i.wg)(),(0,i.iD)("textarea",{key:0,type:"text","onUpdate:modelValue":e=>l.shots[s].vfx_work=e},null,8,Ws)),[[o.nr,l.shots[s].vfx_work]]):((0,i.wg)(),(0,i.iD)("div",{key:1,title:e.vfx_work},(0,b.zw)(e.vfx_work),9,Rs))]),(0,i._)("td",Xs,[l.editing===s?(0,i.wy)(((0,i.wg)(),(0,i.iD)("textarea",{key:0,type:"text","onUpdate:modelValue":e=>l.shots[s].methodology=e},null,8,As)),[[o.nr,l.shots[s].methodology]]):((0,i.wg)(),(0,i.iD)("div",{key:1,title:e.methodology},(0,b.zw)(e.methodology),9,Gs))]),(0,i._)("td",Js,[l.editing===s?(0,i.wy)(((0,i.wg)(),(0,i.iD)("textarea",{key:0,type:"text","onUpdate:modelValue":e=>l.shots[s].notes=e},null,8,Qs)),[[o.nr,l.shots[s].notes]]):((0,i.wg)(),(0,i.iD)("div",{key:1,title:e.notes},(0,b.zw)(e.notes),9,eo))]),(0,i._)("td",to,[l.editing===s?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"number","onUpdate:modelValue":e=>l.shots[s].days=e},null,8,so)),[[o.nr,l.shots[s].days]]):((0,i.wg)(),(0,i.iD)("div",{key:1,title:e.days},(0,b.zw)(e.days),9,oo))]),(0,i._)("td",io,[l.editing===s?((0,i.wg)(),(0,i.iD)("span",no,"Not editable")):((0,i.wg)(),(0,i.iD)("div",{key:1,title:e.total},(0,b.zw)(r.formatCurrency(e.total)),9,lo))]),(0,i._)("td",null,[(0,i._)("button",{class:(0,b.C_)(["btn",l.darkMode?"btn-light":"btn-dark"]),onClick:t=>r.deleteShot(e.id)}," Delete ",10,ro)]),(0,i._)("td",null,[l.editing===s?((0,i.wg)(),(0,i.iD)("button",{key:0,class:(0,b.C_)(["btn",l.darkMode?"btn-light":"btn-dark"]),onClick:t=>r.updateShot(e.id,s)}," Update ",10,ao)):((0,i.wg)(),(0,i.iD)("button",{key:1,class:(0,b.C_)(["btn",l.darkMode?"btn-light":"btn-dark"]),onClick:e=>r.editShot(s)}," Edit ",10,co))]),(0,i._)("td",null,[l.showImageInput===s?((0,i.wg)(),(0,i.iD)("div",uo,[(0,i._)("form",{enctype:"multipart/form-data",onSubmit:(0,o.iM)((t=>r.sendImage(e.id)),["prevent"])},[(0,i._)("input",{class:"form-control",type:"file",ref_for:!0,ref:"file",onChange:t[5]||(t[5]=(...e)=>r.selectFile&&r.selectFile(...e))},null,544),po],40,ho)])):((0,i.wg)(),(0,i.iD)("div",go,[(0,i._)("button",{class:(0,b.C_)(["btn",l.darkMode?"btn-light":"btn-dark"]),onClick:e=>r.showImageForm(s)}," Upload Image ",10,mo)]))])])))),128))])],2)],512)])])}var fo=s(8932),bo={components:{sideBar:je},data(){return{shots:{},darkMode:!1,onOff:"Dark Mode",editing:!1,newName:"",showNewForm:!1,showImageInput:!1,file:"",rate:""}},created(){this.getRate(),this.printList()},methods:{csvMaker(){const e=this.shots;e.forEach((e=>{delete e["id"],delete e["image"],delete e["bid_id"],delete e["created_at"],delete e["updated_at"]})),console.log(e);const t=new Date,s={data:this.shots,filename:"shots_"+t,delimiter:","};(0,fo.Z)(s),this.printList()},showNewShot(){this.showNewForm=!this.showNewForm},addNewShot(){this.secured.post("/shots",{shot:{name:this.newName,bid_id:localStorage.currentBid}}).then((()=>{this.printList(),this.newName="",this.showNewForm=!1})).catch((e=>console.log(e,"Cannot create client")))},deleteShot(e){this.secured.delete(`/shots/${e}`).then((()=>{this.printList(),this.editing=!1})).catch((e=>console.log(e,"Cannot delete record")))},editShot(e){this.editing=e},showImageForm(e){this.showImageInput=e},updateShot(e,t){this.secured.patch(`shots/${e}`,{shot:{name:this.shots[t].name,description:this.shots[t].description,methodology:this.shots[t].methodology,scene:this.shots[t].scene,vfx_work:this.shots[t].vfx_work,notes:this.shots[t].notes,days:this.shots[t].days,total:this.rate*this.shots[t].days}}).then((()=>{this.editing=!1,this.printList()})).catch((e=>console.log(e,"Cannot update record")))},printList(){this.plain.get("/shots",{params:{bid_id:localStorage.currentBid}}).then((e=>{this.shots=e.data}))},darkModeToggle(){this.darkMode=!this.darkMode,this.onOff=this.darkMode?"Light Mode":"Dark Mode"},selectFile(){this.file=this.$refs.file[0].files[0]},sendImage(e){let t=new FormData;t.append("file",this.file),this.secured.patch(`/shotsImage/${e}`,t).then((e=>{console.log(e.data)})).then((()=>{this.editing=!1,this.printList(),this.showImageInput=!1})).catch((e=>console.log(e,"Cannot process studio update")))},getRate(){this.plain.get(`/bids/${localStorage.currentBid}`).then((e=>{this.rate=e.data.cost})).catch((e=>console.log(e,"Cannot get rate")))},formatCurrency(e){let t=(e/1).toFixed(2);return t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),"€"+t}},computed:{loggedIn(){return 1==localStorage.signedIn}}};const _o=(0,u.Z)(bo,[["render",wo],["__scopeId","data-v-40e22aef"]]);var ko=_o;const yo=e=>((0,i.dD)("data-v-35fbb96a"),e=e(),(0,i.Cn)(),e),vo={class:"outterContainer"},Co={class:"outterContainer"},So={class:"outterContainer"},Do={class:"error"},Uo={key:1,class:"table table-hover table-striped table-secondary"},Io=yo((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",{scope:"col"},"Shot Name"),(0,i._)("th",{scope:"col"},"Scene"),(0,i._)("th",{scope:"col"},"Description"),(0,i._)("th",{scope:"col"},"VFX Work"),(0,i._)("th",{scope:"col"},"Methodology"),(0,i._)("th",{scope:"col"},"Notes"),(0,i._)("th",{scope:"col"},"Days"),(0,i._)("th",{scope:"col"},"Total")])],-1))),Vo={class:"shotCellSmall"},$o=["title"],xo={class:"shotCellSmall"},Fo=["title"],Bo={class:"shotCellLarge"},Lo=["title"],Mo={class:"shotCellLarge"},zo=["title"],No={class:"shotCellLarge"},jo=["title"],Oo={class:"shotCellLarge"},Ho=["title"],Po={class:"shotCellSmall"},qo=["title"],Ko={class:"shotCellSmall"},To=["title"];function Eo(e,t,s,n,l,r){const a=(0,i.up)("sideBar"),d=(0,i.up)("mainHeading");return(0,i.wg)(),(0,i.iD)("div",null,[r.loggedIn?((0,i.wg)(),(0,i.j4)(a,{key:0})):(0,i.kq)("",!0),(0,i._)("div",vo,[(0,i.Wm)(d,{title:"Search Shots"})]),(0,i._)("div",Co,[(0,i.wy)((0,i._)("input",{class:"input-group-text",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.searchValue=e),placeholder:"Enter keyword"},null,512),[[o.nr,l.searchValue]]),(0,i._)("button",{class:"btn btn-filter",onClick:t[1]||(t[1]=(...e)=>r.filterShot&&r.filterShot(...e))},"Search Shots")]),(0,i._)("div",So,[(0,i._)("p",Do,(0,b.zw)(l.error),1)]),l.newShots.length?((0,i.wg)(),(0,i.iD)("table",Uo,[Io,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.newShots,(e=>((0,i.wg)(),(0,i.iD)("tr",{key:e},[(0,i._)("td",Vo,[(0,i._)("div",{title:e.name},(0,b.zw)(e.name),9,$o)]),(0,i._)("td",xo,[(0,i._)("div",{title:e.scene},(0,b.zw)(e.scene),9,Fo)]),(0,i._)("td",Bo,[(0,i._)("div",{title:e.description},(0,b.zw)(e.description),9,Lo)]),(0,i._)("td",Mo,[(0,i._)("div",{title:e.vfx_work},(0,b.zw)(e.vfx_work),9,zo)]),(0,i._)("td",No,[(0,i._)("div",{title:e.methodology},(0,b.zw)(e.methodology),9,jo)]),(0,i._)("td",Oo,[(0,i._)("div",{title:e.notes},(0,b.zw)(e.notes),9,Ho)]),(0,i._)("td",Po,[(0,i._)("div",{title:e.days},(0,b.zw)(e.days),9,qo)]),(0,i._)("td",Ko,[(0,i._)("div",{title:e.total},(0,b.zw)(r.formatCurrency(e.total)),9,To)])])))),128))])])):(0,i.kq)("",!0)])}var Zo={components:{sideBar:je,mainHeading:Ke},data(){return{shots:{},searchValue:"",newShots:{},error:""}},created(){this.printList()},methods:{printList(){this.plain.get("/allShots").then((e=>{this.shots=e.data}))},formatCurrency(e){let t=(e/1).toFixed(2);return t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),"€"+t},filterShot(){let e=[];""===this.searchValue?e=[]:Object.keys(this.shots).forEach((t=>{null!==this.shots[t].vfx_work&&this.shots[t].vfx_work.toUpperCase().includes(this.searchValue.toUpperCase())&&e.push(this.shots[t]),null!==this.shots[t].name&&this.shots[t].name.toUpperCase().includes(this.searchValue.toUpperCase())&&e.push(this.shots[t]),null!==this.shots[t].description&&this.shots[t].description.toUpperCase().includes(this.searchValue.toUpperCase())&&e.push(this.shots[t]),null!==this.shots[t].methodology&&this.shots[t].methodology.toUpperCase().includes(this.searchValue.toUpperCase())&&e.push(this.shots[t]),null!==this.shots[t].notes&&this.shots[t].notes.toUpperCase().includes(this.searchValue.toUpperCase())&&e.push(this.shots[t]),null!==this.shots[t].scene&&this.shots[t].scene.toUpperCase().includes(this.searchValue.toUpperCase())&&e.push(this.shots[t])})),0===e.length?(this.error="No search results, try new search",this.newShots={}):(this.error="",this.newShots=e,this.searchValue="")}},computed:{loggedIn(){return 1==localStorage.signedIn}}};const Yo=(0,u.Z)(Zo,[["render",Eo],["__scopeId","data-v-35fbb96a"]]);var Wo=Yo;const Ro=[{path:"/",name:"signIn",component:O},{path:"/register",name:"registerUser",component:ne},{path:"/bidsView",name:"bidView",component:Ze},{path:"/clientsView",name:"clientView",component:gt},{path:"/usersView",name:"userView",component:Xe},{path:"/studioView",name:"studioView",component:Ft},{path:"/newClient",name:"newClient",component:Yt},{path:"/newBid",name:"newBid",component:ps},{path:"/buildBid",name:"buildBid",component:ko},{path:"/searchView",name:"searchView",component:Wo},{path:"/:pathMatch(.*)",redirect:"/"}],Xo=(0,f.p7)({history:(0,f.PO)(),routes:Ro});var Ao=Xo,Go=s(2346),Jo=s(594);const Qo="http://www.bidvfx.com:3000/",ei=Jo.Z.create({baseURL:Qo,withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}),ti=Jo.Z.create({baseURL:Qo,withCredentials:!0,headers:{"Content-Type":"application/json"}}),si=Jo.Z.create({baseURL:Qo,withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}});ei.interceptors.request.use((e=>{const t=e.method.toUpperCase();return"OPTIONS"!==t&&"GET"!==t&&(e.headers={...e.headers,"X-CSRF-TOKEN":localStorage.csrf}),e})),ei.interceptors.response.use(null,(e=>e.response&&e.response.config&&401===e.response.status?ti.post("/refresh",{},{headers:{"X-CSRF-TOKEN":localStorage.csrf}}).then((t=>{localStorage.csrf=t.data.csrf,localStorage.signedIn=!0;let s=e.response.config;return s.headers["X-CSRF-TOKEN"]=localStorage.csrf,ti.request(s)})).catch((e=>(delete localStorage.csrf,delete localStorage.signedIn,location.replace("/"),Promise.reject(e)))):Promise.reject(e))),si.interceptors.request.use((e=>{const t=e.method.toUpperCase();return"OPTIONS"!==t&&"GET"!==t&&(e.headers={...e.headers,"X-CSRF-TOKEN":localStorage.csrf}),e})),si.interceptors.response.use(null,(e=>e.response&&e.response.config&&401===e.response.status?ti.post("/refresh",{},{headers:{"X-CSRF-TOKEN":localStorage.csrf}}).then((t=>{localStorage.csrf=t.data.csrf,localStorage.signedIn=!0;let s=e.response.config;return s.headers["X-CSRF-TOKEN"]=localStorage.csrf,ti.request(s)})).catch((e=>(delete localStorage.csrf,delete localStorage.signedIn,location.replace("/"),Promise.reject(e)))):Promise.reject(e)));var oi=s(6315),ii=s.n(oi),ni=s(7810),li=s(8365),ri=s(3636),ai=s(9417);s(2666);ri.vI.add(ai.ILF,ai.byT,ai.P88,ai.tAh),(0,o.ri)(w).use(Ao).use(Go.Z,{secured:ei,plain:ti,image:si}).use(li.Z).component("vue-sidebar-menu-akahon",Me.Z).component("svg-icon",r.Z).component("font-awesome-icon",ni.GN).component("downloadCsv",ii()).mount("#app")}},t={};function s(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=e,function(){s.amdO={}}(),function(){var e=[];s.O=function(t,o,i,n){if(!o){var l=1/0;for(c=0;c<e.length;c++){o=e[c][0],i=e[c][1],n=e[c][2];for(var r=!0,a=0;a<o.length;a++)(!1&n||l>=n)&&Object.keys(s.O).every((function(e){return s.O[e](o[a])}))?o.splice(a--,1):(r=!1,n<l&&(l=n));if(r){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[o,i,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};s.t=function(o,i){if(1&i&&(o=this(o)),8&i)return o;if("object"===typeof o&&o){if(4&i&&o.__esModule)return o;if(16&i&&"function"===typeof o.then)return o}var n=Object.create(null);s.r(n);var l={};e=e||[null,t({}),t([]),t(t)];for(var r=2&i&&o;"object"==typeof r&&!~e.indexOf(r);r=t(r))Object.getOwnPropertyNames(r).forEach((function(e){l[e]=function(){return o[e]}}));return l["default"]=function(){return o},s.d(n,l),n}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,n,l=o[0],r=o[1],a=o[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(a)var c=a(s)}for(t&&t(o);d<l.length;d++)n=l[d],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(c)},o=self["webpackChunkfront"]=self["webpackChunkfront"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(1169)}));o=s.O(o)})();
//# sourceMappingURL=app.cca4c14e.js.map